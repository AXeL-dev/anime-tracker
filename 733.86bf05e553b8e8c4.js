"use strict";(self.webpackChunkanime_tracker=self.webpackChunkanime_tracker||[]).push([[733],{6622:(K,$,a)=>{a.d($,{x:()=>L,k:()=>w});const L=function(l,j=[]){for(let p=0,U=l.length;p<U;p++){const E=l[p];w(E)?L(E,j):j.push(E)}return j};function w(l){return Array.isArray(l)||l instanceof Array}},3470:(K,$,a)=>{a.d($,{F3:()=>w,ty:()=>l,zO:()=>j,hp:()=>p,Lg:()=>U,Cv:()=>E,m8:()=>m,GW:()=>S,zu:()=>P});const w=["lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche"],l={janvier:1,f\u00e9vrier:2,mars:3,avril:4,mai:5,juin:6,juillet:7,ao\u00fbt:8,septembre:9,octobre:10,novembre:11,d\u00e9cembre:12},j=()=>new Date,p=f=>f.setHours(0,0,0,0),U=(f=!1)=>{const i=j();return f?i.toISOString().slice(0,10):p(i)},E=(f=!1)=>m(1,f),m=(f,i=!1)=>{const d=new Date(j().getTime()-864e5*f);return i?d.toISOString().slice(0,10):p(d)},S=f=>{const i=j();return p(i)===p(f)},P=(f,i)=>p(new Date(f))===p(new Date(i))},6503:(K,$,a)=>{a.d($,{K:()=>F});var L=a(9646),w=a(4004),l=a(3470);function p(c,r=1){return+c||r}var U=a(4056);class m extends class E{constructor(r,t){this.filters={},this.cache={animeList:[],latestEpisodes:[]},this._name=r,this._baseUrl=t,this._isActive=!0,this.filters={number:e=>p(e),boolean:e=>!!(null==e?void 0:e.length),trim:e=>e.trim(),capitalize:e=>(0,U.kC)(e),decodeUrl:e=>decodeURI(e),encodeUrl:e=>encodeURI(e),concatUrl:e=>/^https?:\/\//.test(e)?e:`${this.baseUrl.replace(/\/$/,"")}/${null==e?void 0:e.replace(/^\//,"")}`,concatProtocol:e=>/^https?:\/\//.test(e)?e:`https://${null==e?void 0:e.replace(/^\/+/,"")}`,date:e=>{var s;const h=null===(s=new Date(e))||void 0===s?void 0:s.getTime(),H=(0,l.zO)().getTime();return h>H?H:h}}}get name(){return this._name}get baseUrl(){return this._baseUrl}get isActive(){return this._isActive}set isActive(r){this._isActive=r}getAnimeList(r=!1){return this.cache.animeList.length>0&&!r?(0,L.of)(this.cache.animeList):this._getAnimeList().pipe((0,w.U)(t=>(this.cache.animeList=t,t)))}getAnimeInfo(r){return this._getAnimeInfo(r).pipe((0,w.U)(t=>(t&&(t.link=r),t)))}getEpisodes(r){return this._getEpisodes(r)}getLatestEpisodes(r=!1){return this.cache.latestEpisodes.length>0&&!r?(0,L.of)(this.cache.latestEpisodes):this._getLatestEpisodes().pipe((0,w.U)(t=>{const e=t.map(s=>Object.assign(Object.assign({},s),{anime:Object.assign(Object.assign({},s.anime),{title:s.anime.title.trim()}),fetchingDate:(new Date).getTime(),releaseDate:s.releaseDate||(0,l.Lg)(),hasTemporaryReleaseDate:!s.releaseDate}));return this.cache.latestEpisodes=e,e}))}searchAnime(r){return this._getAnimeList().pipe((0,w.U)(t=>t.filter(s=>-1!==s.title.toLowerCase().indexOf(r.toLowerCase()))||[]))}}{_getAnimeList(r=!1){return(0,L.of)([])}_getAnimeInfo(r){return(0,L.of)()}_getEpisodes(r){return(0,L.of)([])}}const O={vostfr:[class V extends m{constructor(r){super("AnimeKo","https://animeko.co"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{cover:t=>{const e=t.replace("/small","");return this.filters.concatUrl(e)},subtitles:t=>"vostfr",date:t=>{var e;let s=t.toLowerCase();return-1!==s.indexOf("aujourd'hui")?(0,l.Lg)():-1!==s.indexOf("hier")?(0,l.Cv)():(s=s.replace(new RegExp("^("+l.F3.join("|")+")","g"),""),s=s.replace(new RegExp("("+Object.keys(l.ty).join("|")+")","g"),h=>l.ty[h]).trim(),s=s.split(" ").reverse().join("-"),null===(e=new Date(s))||void 0===e?void 0:e.getTime())}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/dernieres-sorties`,".releases ul li.small-card",{anime:{title:"h2 a",cover:"img@data-src | cover",isNew:".badge-status.new | boolean",isFinished:".badge-status.end | boolean",isMovie:".badge-type.movie | boolean"},number:"span.badge-number | number",streamLinks:[{url:"h2 a@href | concatUrl",lang:"| subtitles"}],releaseDate:":prev div .untitle | date"},this.filters)}},class Z extends m{constructor(r){super("Neko-sama","https://www.neko-sama.fr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/Ep. (\d+)/);return p((null==e?void 0:e.length)?e[1]:t)},date:t=>{var e;if(-1!==t.indexOf("minute")||-1!==t.indexOf("heure"))return(0,l.Lg)();if(-1!==t.indexOf("il y a 1 jour"))return(0,l.Cv)();{const s=t.match(/il y a (\d+) jours/);return(null==s?void 0:s.length)?(0,l.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.getRawHTML(this.baseUrl).pipe((0,w.U)(r=>{const t=r.match(/lastEpisodes = \[(.*)\]/),e=[];if(null==t?void 0:t.length)try{JSON.parse(`[${t[1]}]`).forEach(h=>{e.push({anime:{title:h.title,cover:h.url_image},number:this.filters.number(h.episode),streamLinks:[{url:this.filters.concatUrl(h.url),lang:"vostfr"}],releaseDate:this.filters.date(h.time)})})}catch(s){console.error(s.message)}return e}))}},class n extends m{constructor(r){super("VoirAnime","https://voiranime.com"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{cover:t=>t.replace("-110x150",""),subtitles:t=>"vostfr",date:t=>{var e;if(-1!==t.indexOf("mins ago")||-1!==t.indexOf("hours ago"))return(0,l.Lg)();if(-1!==t.indexOf("1 day ago"))return(0,l.Cv)();{const s=t.match(/(\d+) days ago/);return(null==s?void 0:s.length)?(0,l.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/?filter=subbed`,"#loop-content .page-item-detail",{anime:{title:".post-title h3 a",cover:"img.img-responsive@src | cover"},number:".chapter-item:first-child .chapter a | number",streamLinks:[{url:[".chapter-item:first-child .chapter a@href",".post-title h3 a@href"],lang:"| subtitles"}],releaseDate:".chapter-item:first-child .post-on | date"},this.filters)}},class u extends m{constructor(r){super("VoirAnime.org","https://voiranime.org"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>{const e=t.trim().match(/(.*) (\u2013|\xe9pisode) (\d+) (vostfr|vf)(?:.*)$/i);return(null==e?void 0:e.length)?e[1].trim():t},number:t=>{const e=t.trim().match(/(\d+) (vostfr|vf)(?:.*)$/i);return p((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>{const e=t.trim().match(/(vostfr|vf)(?:.*)$/i);return(null==e?void 0:e.length)?e[1]:"vostfr"}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#content .video-item",{anime:{title:".item-head > h3 > a | title",cover:".item-thumbnail img@data-src,src"},number:".item-head > h3 > a | number",streamLinks:[{url:".item-head > h3 > a@href",lang:".item-head > h3 > a | subtitles"}]},this.filters)}},class R extends m{constructor(r){super("VostAnimez","https://vostanimez.com"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.replace(/(.*) \(([A-Za-z]+)\)$/i,"$1"),number:t=>{const e=t.match(/(.*) episode (\d+)/i);return(null==e?void 0:e.length)?+e[2]:1},subtitles:t=>{const e=t.match(/(.*) \(([A-Za-z]+)\)$/i);return(null==e?void 0:e.length)?e[2].toLowerCase():"vostfr"}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/liste-des-episodes/`,"section ul.Episodes > li",{anime:{title:".Title | title",cover:".Image img@src | concatProtocol"},number:".ClB | number",streamLinks:[{url:"article > a@href",lang:".Title | subtitles"}],releaseDate:".Year | date"},this.filters)}},class I extends m{constructor(r){super("JetAnimes","https://www.jetanimes.com"),this.scraper=r;const t=this.filters.date;this.filters=Object.assign(Object.assign({},this.filters),{title:(e,s)=>{var h;if(e)return e;const G=s.querySelector(".data > h3 > a").getAttribute("href"),J=G.split("/"),Y=null===(h=J[J.length-2])||void 0===h?void 0:h.split("-").join(" ").replace(/saison \d+|episode \d+/gi,"").trim();return Y?this.filters.capitalize(Y):G},number:(e,s)=>{let h=e.match(/E(\d+)/i);return(null==h?void 0:h.length)?+h[1]:(h=s.querySelector(".data > h3 > a").getAttribute("href").match(/episode-(\d+)/i),(null==h?void 0:h.length)?+h[1]:1)},subtitles:e=>{const s=e.match(/HD ([A-Za-z]+)$/i);return(null==s?void 0:s.length)?s[1].toLowerCase():"vostfr"},date:e=>{var s;const H=null===(s=e.split("/")[1])||void 0===s?void 0:s.replace(".","").trim();return t(H)}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/episodes/`,"#archive-content > article",{anime:{title:".data .serie | title",cover:".poster img@src"},number:".data > span:first-of-type | number",streamLinks:[{url:".data > h3 > a@href",lang:".poster .quality | subtitles"}],releaseDate:".data > span:first-of-type | date"},this.filters)}},class M extends m{constructor(r){super("AnimeComplet","https://animecomplet.me"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.replace(/vostfr/i,"").trim(),number:t=>{const e=t.match(/Episode (\d+)/i);return(null==e?void 0:e.length)?+e[1]:1},subtitles:t=>{const e=t.match(/Episode (?:\d+) ([A-Za-z]+)$/i);return(null==e?void 0:e.length)?e[1].toLowerCase():"vostfr"},date:t=>{var e;let s=t.toLowerCase();return s=s.replace(new RegExp("("+Object.keys(l.ty).join("|")+")","g"),h=>l.ty[h]).trim(),s=s.split(" ").reverse().join("-"),null===(e=new Date(s))||void 0===e?void 0:e.getTime()}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"ul.recent-posts > li",{anime:{title:".post-content .meta-category > a | title",cover:".post-thumb img@src | concatUrl"},number:".post-content > h2 > a | number",streamLinks:[{url:".post-content > h2 > a@href",lang:".post-content > h2 > a | subtitles"}],releaseDate:".post-content .meta-date | date"},this.filters)}},class D extends m{constructor(r){super("11Anim","https://11anim.net"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.replace("VOSTFR","").replace(/(.*) Episode (\d+)/i,"$1").replace(/ \u2013 $/,""),number:t=>{const e=t.replace("VOSTFR","").match(/(.*) Episode (\d+)/i);return(null==e?void 0:e.length)?+e[2]:1},subtitles:t=>"vostfr",date:t=>{var e;let s=t.replace("Ajout\xe9 le ","").toLowerCase();return s=s.replace(new RegExp("^("+l.F3.join("|")+")","g"),""),s=s.replace(new RegExp("("+Object.keys(l.ty).join("|")+")","g"),h=>l.ty[h]).trim(),s=s.split(" ").reverse().join("-"),null===(e=new Date(s))||void 0===e?void 0:e.getTime()}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#main .loop > article",{anime:{title:"div > a > span | title",cover:"div img@src | concatUrl"},number:"div > a > span | number",streamLinks:[{url:"div > a@href",lang:"| subtitles"}],releaseDate:".entry-meta > span > small | date"},this.filters)}},class B extends m{constructor(r){super("MavAnimes","http://www.mavanimes.co"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{cover:t=>-1!==t.indexOf(",")?t.split(",")[0].replace(/ (\d+\w)$/,""):t.replace("-300x169",""),number:t=>{const e=t.replace("VOSTFR","").match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1},title:t=>t.replace("VOSTFR","").replace(/(.*) (\d+)/,"$1").replace(/ \u2013 $/,""),subtitles:t=>"vostfr"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"div.animes-grid div.grid-item > div",{anime:{title:"p | title",cover:"img.wp-post-image@srcset,src,data-cfsrc | cover"},number:"p | number",streamLinks:[{url:"a@href",lang:"| subtitles"}]},this.filters)}},class b extends m{constructor(r){super("OtakuFr","https://otakufr.co"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>{const e=t.trim().match(/(.*) (\d+) vostfr(?:.*)$/i);return(null==e?void 0:e.length)?e[1].trim():t},number:t=>{const e=t.trim().match(/(\d+) vostfr(?:.*)$/i);return p((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>(null==t?void 0:t.length)?t.toLowerCase().trim():"vostfr",date:t=>{var e;let s=t.toLowerCase();return s=s.replace(new RegExp("^("+l.F3.join("|")+")","g"),""),s=s.replace(new RegExp("("+Object.keys(l.ty).join("|")+")","g"),h=>l.ty[h]).trim(),s=s.split(" ").reverse().join("-"),null===(e=new Date(s))||void 0===e?void 0:e.getTime()}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,".section-1 > article.episode",{anime:{title:"a.episode-link | title",cover:"figure img@src"},number:"a.episode-link | number",streamLinks:[{url:"a.episode-link@href",lang:".traduction | subtitles"}],releaseDate:":prev div.title | date"},this.filters)}},class o extends m{constructor(r){super("VostFree","https://vostfree.com"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.replace(/ VOSTFR(?:.*)$/,""),cover:t=>this.filters.concatUrl(t),date:t=>{var e;let s=t.toLowerCase();if(-1!==s.indexOf("aujourd'hui"))return(0,l.Lg)();if(-1!==s.indexOf("hier"))return(0,l.Cv)();{const h=s.split(",");return s=h[0].split("-").reverse().join("-")+h[1],null===(e=new Date(s.replace(",","")))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/animes-vostfr`,"#content div.movie-poster",{anime:{title:".info .title | title",cover:".image img@src,data-cfsrc | cover",isNew:".anime-new | boolean",isFinished:".anime-fin | boolean"},number:".alt .year b | number",streamLinks:[{url:".play a.link@href",lang:".quality"}],releaseDate:".info ul.additional li.type:first-child a | date"},this.filters)}},class z extends m{constructor(r){super("Mangas-vostfr","https://mangas-vostfr.com"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.replace("Vostfr","").match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1},title:t=>t.replace("Vostfr","").replace(/(.*) (\d+)/,"$1").trim(),subtitles:t=>"vostfr",date:t=>{var e;let s=t.toLowerCase();return s=s.replace(new RegExp("("+Object.keys(l.ty).join("|")+")","g"),h=>l.ty[h]).trim(),s=s.split(" ").reverse().join("-"),null===(e=new Date(s))||void 0===e?void 0:e.getTime()}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#content_box > article",{anime:{title:"h2.title a | title",cover:".featured-thumbnail img@data-lazy-src,src"},number:"h2.title a | number",streamLinks:[{url:"h2.title a@href",lang:"| subtitles"}],releaseDate:".post-info .date span | date"},this.filters)}},class g extends m{constructor(r){super("WacVostfr","https://wacvostfr.com"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>{const e=t.trim().match(/(.*) (\u2013|\xe9pisode) (\d+) (vostfr|vf)(?:.*)$/i);return(null==e?void 0:e.length)?e[1].trim():t},number:t=>{const e=t.trim().match(/(\d+) (vostfr|vf)(?:.*)$/i);return p((null==e?void 0:e.length)?e[1]:t)},cover:t=>{const e=this.filters.title(t);return this.filters.concatUrl(`/imgs/animes/${(0,U.lV)(e,"-")}.jpg`)},subtitles:t=>{const e=t.trim().match(/(vostfr|vf)(?:.*)$/i);return(null==e?void 0:e.length)?e[1]:"vostfr"}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#posts-list + .card.mt-4 ul > a",{anime:{title:":self | title",cover:":self | cover"},number:":self | number",streamLinks:[{url:":self@href | concatUrl",lang:":self | subtitles"}]},this.filters)}},class k extends m{constructor(r){super("ToonAnime","https://wvvw.toonanime.tv"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.replace(/vostfr/i,"").trim(),number:t=>{const e=t.match(/EP (\d+)/);return p((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>(null==t?void 0:t.length)?t.toLowerCase().trim():"vostfr"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/anime-vostfr/`,"#dle-content > article",{anime:{title:"footer > div.short__story-title | title",cover:"img@data-src,src | concatUrl"},number:".progress__box > div | number",streamLinks:[{url:"a@href",lang:".label__rate | subtitles"}]},this.filters)}}],vosten:[class _ extends m{constructor(r){super("GogoPlay","https://gogoplay1.com"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>{const e=t.match(/(.*) Episode (\d+)/);return(null==e?void 0:e.length)?e[1].trim():t},number:t=>{const e=t.match(/Episode (\d+)/);return p((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>"vosten",date:t=>{var e;if(-1!==t.indexOf("mins ago")||-1!==t.indexOf("hours ago"))return(0,l.Lg)();if(-1!==t.indexOf("1 day ago"))return(0,l.Cv)();{const s=t.match(/(\d+) days ago/);return(null==s?void 0:s.length)?(0,l.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"ul.listing.items > li",{anime:{title:".name | title",cover:".picture img@src"},number:".name | number",streamLinks:[{url:"a@href | concatUrl",lang:"| subtitles"}],releaseDate:".meta > .date | date"},this.filters)}},class W extends m{constructor(r){super("Animension","https://animension.to"),this.scraper=r}_getLatestEpisodes(){return this.scraper.getJSON(`${this.baseUrl}/public-api/index.php?page=1&mode=sub`).pipe((0,w.U)(r=>{const t=[];try{r.forEach(e=>{const[s,h,H,G,J,Y]=e;t.push({anime:{title:s,cover:J},number:G,streamLinks:[{url:this.filters.concatUrl(`${h}`),lang:"vosten"}],releaseDate:1e3*Y})})}catch(e){console.error(`${this.constructor.name}: ${e.message}`)}return t}))}},class N extends m{constructor(r){super("YugenAnime","https://yugen.to"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{cover:t=>{const e=t.trim().match(/this\.src='(.*)'$/i);return(null==e?void 0:e.length)?e[1]:t},number:t=>{const e=t.trim().match(/(\d+) (?:.*)$/i);return p((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>"vosten"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/latest`,"section ul.ep-grid li.ep-card",{anime:{title:"a.ep-details .ep-origin-name",cover:"a.ep-thumbnail img@onerror,data-src,src | cover"},number:"a.ep-title | number",streamLinks:[{url:"a.ep-thumbnail@href | concatUrl",lang:"| subtitles"}],releaseDate:"a.ep-details .ep-statistics time@datetime | date"},this.filters)}},class v extends m{constructor(r){super("AnimixPlay","https://animixplay.to"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/EP (\d+)/);return p((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>"vosten",date:t=>{var e;if(-1!==t.indexOf("mins ago")||-1!==t.indexOf("hours ago"))return(0,l.Lg)();if(-1!==t.indexOf("1 day ago"))return(0,l.Cv)();{const s=t.match(/(\d+) days ago/);return(null==s?void 0:s.length)?(0,l.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#resultplace ul li",{anime:{title:"a .details .name",cover:"a img.resultimg@src"},number:"a .details .infotext | number",streamLinks:[{url:"a@href | concatUrl",lang:"| subtitles"}],releaseDate:"a .timetext | date"},this.filters)}},class T extends m{constructor(r){super("GogoAnime","https://gogoanime.gg"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/Episode (\d+)/);return p((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>-1!==(null==t?void 0:t.indexOf("ic-DUB"))?"dub":"vosten"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,".last_episodes ul li",{anime:{title:"p.name a",cover:"div.img img@src"},number:"p.episode | number",streamLinks:[{url:"p.name a@href | concatUrl",lang:".type@class | subtitles"}]},this.filters)}}],vostar:[class d extends m{constructor(r){super("WitAnime","https://witanime.com"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1},subtitles:t=>"vostar"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"body > div.page-content-container:not(.content) .episodes-list-content .episodes-card-container",{anime:{title:".ep-card-anime-title > h3 > a",cover:".episodes-card > div > img@src"},number:".episodes-card-title > h3 > a | number",streamLinks:[{url:".episodes-card > div > a@href | decodeUrl",lang:"| subtitles"}]},this.filters)}},class P extends m{constructor(r){super("Anime4up","https://w1.anime4up.com"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1},subtitles:t=>"vostar"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,["body > div:nth-child(6).page-content-container .episodes-list-content .episodes-card-container","body > div:nth-child(8).page-content-container .episodes-list-content .episodes-card-container"],{anime:{title:".ep-card-anime-title > h3 > a",cover:".episodes-card > div > img@src"},number:".episodes-card-title > h3 > a | number",streamLinks:[{url:".episodes-card > div > a@href | decodeUrl",lang:"| subtitles"}]},this.filters)}},class f extends m{constructor(r){super("ArabAnime","https://www.arabanime.net"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1},subtitles:t=>"vostar"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"section#specials > .container > .row > .col-6",{anime:{title:"a.as-info@title | trim",cover:"img.img-fluid@src"},number:"a.as-info > h3 > span | number",streamLinks:[{url:"a.as-info@href | concatUrl",lang:"| subtitles"}]},this.filters)}},class S extends m{constructor(r){super("AddAnime","https://ar.addanime.online"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.split("|")[0].trim(),number:t=>{const e=t.match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1},subtitles:t=>"vostar"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/episode`,"body > .container > .anime-list-content > .row > div",{anime:{title:".anime-card-details > .anime-card-title@title | title",cover:".anime-card-poster img@src"},number:".anime-card-poster .episodes-card-title > h3 > a | number",streamLinks:[{url:".anime-card-poster .episodes-card-title > h3 > a@href | decodeUrl",lang:"| subtitles"}]},this.filters)}},class i extends m{constructor(r){super("OKanime","https://okanime.tv"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{subtitles:t=>"vostar"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/dashboard/newest_episodes`,".latest-episodes > div.row > .item",{anime:{title:"span.video-title",cover:".batnie-image img@data-src | concatUrl"},number:"span.video-subtitle span | number",streamLinks:[{url:"a@href | concatUrl",lang:"| subtitles"}]},this.filters)}}]},y=Object.keys(O).reduce((c,r)=>[...c,...O[r]],[]);var C=a(1223),A=a(8798),x=a(452);let F=(()=>{class c{constructor(t,e){this.scraper=t,this.settings=e,this.crawlers=[];for(const s of y)this.add(new s(this.scraper));this.update()}update(){this.crawlers.forEach(t=>{t.isActive=-1===this.settings.inactiveCrawlers.indexOf(t.name)})}add(t){this.crawlers.push(t)}remove(t){this.crawlers=this.crawlers.filter(e=>e.name!==t.name)}get(...t){return this.crawlers.filter(e=>-1!==t.indexOf(e.name))}getAll(t=!1){return t&&this.update(),this.crawlers}getAllExcept(...t){return this.crawlers.filter(e=>-1===t.indexOf(e.name))}getActive(t=!1){return t&&this.update(),this.crawlers.filter(e=>e.isActive)}get count(){return this.getAll().length}get activeCount(){return this.getActive().length}}return c.\u0275fac=function(t){return new(t||c)(C.LFG(A.V),C.LFG(x.g))},c.\u0275prov=C.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},8798:(K,$,a)=>{a.d($,{V:()=>Z});var L=a(655),w=a(9646),l=a(1566),j=a(1165),p=a(4482),U=a(8421),E=a(3888),m=a(5403),S=a(9672);const P=(0,E.d)(b=>function(n=null){b(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n});function i(b){throw new P(b)}var d=a(4004),v=a(262),T=a(5012),_=a(1223),N=a(520),W=a(4056),V=a(6622);let z=(()=>{class b{constructor(){this.parser=new DOMParser}fromString(n){return this.parser.parseFromString(n,"text/html")}parse(n,u,o,g){let D=[];const R=this.fromString(n),I=(0,V.k)(u)?u.join(", "):u;return R.querySelectorAll(I).forEach(M=>{const O={};Object.keys(o).forEach(y=>{(0,W.HD)(o[y])?O[y]=this.find(M,o[y],g):(0,V.k)(o[y])?(O[y]=[],o[y].forEach(C=>{if((0,W.HD)(C))O[y].push(this.find(M,C,g));else{let A={};Object.keys(C).forEach(x=>{A[x]=this.parseSelector(M,C[x],g)}),O[y].push(A)}})):(O[y]={},Object.keys(o[y]).forEach(C=>{O[y][C]=this.parseSelector(M,o[y][C],g)}))}),D.push(O)}),D}parseSelector(n,u,o){if(!(0,V.k)(u))return this.find(n,u,o);for(const g of u){const D=this.find(n,g,o);if(D)return D}}find(n,u,o){var g,D,R,I,M,O;const y=u.split("|"),C=y[0].split("@"),A={selector:null===(g=C[0])||void 0===g?void 0:g.trim(),attributes:null===(D=C[1])||void 0===D?void 0:D.trim().split(","),filter:null===(R=y[1])||void 0===R?void 0:R.trim()};let x=null,F="";try{(null===(I=A.selector)||void 0===I?void 0:I.length)&&(x=A.selector.startsWith(":prev ")?this.getPreviousSibling(n,A.selector.replace(":prev ","")):A.selector.startsWith(":next ")?this.getNextSibling(n,A.selector.replace(":next ","")):A.selector.startsWith(":self")?n:n.querySelector(A.selector))}catch(c){console.error(c.message)}return x&&((null===(M=A.attributes)||void 0===M?void 0:M.length)?A.attributes.forEach(c=>{(null==F?void 0:F.length)||(F=x.getAttribute(c))}):F=x.innerHTML),(null===(O=A.filter)||void 0===O?void 0:O.length)&&(null==o?void 0:o[A.filter])&&(F=o[A.filter](F,n)),F}getPreviousSibling(n,u){let o=n.previousElementSibling;if(!u)return o;for(;o;){if(o.matches(u))return o;const g=o.querySelector(u);if(g)return g;o=o.previousElementSibling}return null}getNextSibling(n,u){let o=n.nextElementSibling;if(!u)return o;for(;o;){if(o.matches(u))return o;const g=o.querySelector(u);if(g)return g;o=o.nextElementSibling}return null}}return b.\u0275fac=function(n){return new(n||b)},b.\u0275prov=_.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();var B=a(452);let Z=(()=>{class b{constructor(n,u,o){this.httpClient=n,this.htmlParser=u,this.settings=o}get proxy(){return T._[this.settings.proxy.name]}scrape(n,u,o,g){return this.getRawHTML(n).pipe((0,d.U)(D=>this.htmlParser.parse(D,u,o,g)))}getRawHTML(n,u){return this.get(this.resolveUrl(n),{responseType:"text",headers:this.getRequestHeaders(),timeout:u})}getJSON(n,u){return this.get(this.resolveUrl(n),{responseType:"json",headers:this.getRequestHeaders(),timeout:u})}get(n,u){const{timeout:o=3e4}=u,g=(0,L._T)(u,["timeout"]);return this.httpClient.get(n,g).pipe(function f(b,k){const{first:n,each:u,with:o=i,scheduler:g=(null!=k?k:l.z),meta:D=null}=(0,j.q)(b)?{first:b}:"number"==typeof b?{each:b}:b;if(null==n&&null==u)throw new TypeError("No timeout provided.");return(0,p.e)((R,I)=>{let M,O,y=null,C=0;const A=x=>{O=(0,S.f)(I,g,()=>{try{M.unsubscribe(),(0,U.Xf)(o({meta:D,lastValue:y,seen:C})).subscribe(I)}catch(F){I.error(F)}},x)};M=R.subscribe((0,m.x)(I,x=>{null==O||O.unsubscribe(),C++,I.next(y=x),u>0&&A(u)},void 0,void 0,()=>{(null==O?void 0:O.closed)||null==O||O.unsubscribe(),y=null})),A(null!=n?"number"==typeof n?n:+n-g.now():u)})}(o),(0,v.K)(D=>{const R=this.resolveError(D,n);return console.error(R),(0,w.of)("json"===g.responseType?{}:"")}))}resolveError(n,u){return"Timeout has occurred"===n.message?`${n.message} for ${u}`:n.message}resolveUrl(n){return this.settings.proxy.enabled?`${this.proxy.url}${n}`:n}getRequestHeaders(){const n=this.settings.proxy.enabled?this.proxy.headers:null;return n?Object.keys(n).reduce((u,o)=>Object.assign(Object.assign({},u),{[o]:this.resolveHeaderValue(n[o])}),{}):{}}resolveHeaderValue(n){switch(n){case"$hostname":return window.location.hostname;case"$apiKey":return this.settings.proxy.apiKey;default:return n}}}return b.\u0275fac=function(n){return new(n||b)(_.LFG(N.eN),_.LFG(z),_.LFG(B.g))},b.\u0275prov=_.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},4128:(K,$,a)=>{a.d($,{D:()=>m});var L=a(8306),w=a(4742),l=a(8421),j=a(3269),p=a(5403),U=a(3268),E=a(1810);function m(...S){const P=(0,j.jO)(S),{args:f,keys:i}=(0,w.D)(S),d=new L.y(v=>{const{length:T}=f;if(!T)return void v.complete();const _=new Array(T);let N=T,W=T;for(let V=0;V<T;V++){let z=!1;(0,l.Xf)(f[V]).subscribe((0,p.x)(v,B=>{z||(z=!0,W--),_[V]=B},()=>N--,void 0,()=>{(!N||!z)&&(W||v.next(i?(0,E.n)(i,_):_),v.complete())}))}});return P?d.pipe((0,U.Z)(P)):d}},2805:(K,$,a)=>{a.d($,{H:()=>p});var L=a(8306),w=a(1566),l=a(3532),j=a(1165);function p(U=0,E,m=w.P){let S=-1;return null!=E&&((0,l.K)(E)?m=E:S=E),new L.y(P=>{let f=(0,j.q)(U)?+U-m.now():U;f<0&&(f=0);let i=0;return m.schedule(function(){P.closed||(P.next(i++),0<=S?this.schedule(void 0,S):P.complete())},f)})}},1566:(K,$,a)=>{a.d($,{P:()=>P,z:()=>S});var L=a(727);class w extends L.w0{constructor(i,d){super()}schedule(i,d=0){return this}}const l={setInterval(...f){const{delegate:i}=l;return((null==i?void 0:i.setInterval)||setInterval)(...f)},clearInterval(f){const{delegate:i}=l;return((null==i?void 0:i.clearInterval)||clearInterval)(f)},delegate:void 0};var j=a(8737);const U={now:()=>(U.delegate||Date).now(),delegate:void 0};class E{constructor(i,d=E.now){this.schedulerActionCtor=i,this.now=d}schedule(i,d=0,v){return new this.schedulerActionCtor(this,i).schedule(v,d)}}E.now=U.now;const S=new class m extends E{constructor(i,d=E.now){super(i,d),this.actions=[],this._active=!1,this._scheduled=void 0}flush(i){const{actions:d}=this;if(this._active)return void d.push(i);let v;this._active=!0;do{if(v=i.execute(i.state,i.delay))break}while(i=d.shift());if(this._active=!1,v){for(;i=d.shift();)i.unsubscribe();throw v}}}(class p extends w{constructor(i,d){super(i,d),this.scheduler=i,this.work=d,this.pending=!1}schedule(i,d=0){if(this.closed)return this;this.state=i;const v=this.id,T=this.scheduler;return null!=v&&(this.id=this.recycleAsyncId(T,v,d)),this.pending=!0,this.delay=d,this.id=this.id||this.requestAsyncId(T,this.id,d),this}requestAsyncId(i,d,v=0){return l.setInterval(i.flush.bind(i,this),v)}recycleAsyncId(i,d,v=0){if(null!=v&&this.delay===v&&!1===this.pending)return d;l.clearInterval(d)}execute(i,d){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const v=this._execute(i,d);if(v)return v;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,d){let T,v=!1;try{this.work(i)}catch(_){v=!0,T=_||new Error("Scheduled action threw falsy error")}if(v)return this.unsubscribe(),T}unsubscribe(){if(!this.closed){const{id:i,scheduler:d}=this,{actions:v}=d;this.work=this.state=this.scheduler=null,this.pending=!1,(0,j.P)(v,this),null!=i&&(this.id=this.recycleAsyncId(d,i,null)),this.delay=null,super.unsubscribe()}}}),P=S},1165:(K,$,a)=>{function L(w){return w instanceof Date&&!isNaN(w)}a.d($,{q:()=>L})}}]);