"use strict";(self.webpackChunkanime_tracker=self.webpackChunkanime_tracker||[]).push([[310],{6622:(W,x,n)=>{n.d(x,{x:()=>E,k:()=>O});const E=function(l,j=[]){for(let m=0,U=l.length;m<U;m++){const o=l[m];O(o)?E(o,j):j.push(o)}return j};function O(l){return Array.isArray(l)||l instanceof Array}},3470:(W,x,n)=>{n.d(x,{F3:()=>O,ty:()=>l,zO:()=>j,hp:()=>m,Lg:()=>U,Cv:()=>o,m8:()=>T,GW:()=>$,zu:()=>P});const O=["lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche"],l={janvier:1,f\u00e9vrier:2,mars:3,avril:4,mai:5,juin:6,juillet:7,ao\u00fbt:8,septembre:9,octobre:10,novembre:11,d\u00e9cembre:12},j=()=>new Date,m=v=>v.setHours(0,0,0,0),U=(v=!1)=>{const i=j();return v?i.toISOString().slice(0,10):m(i)},o=(v=!1)=>T(1,v),T=(v,i=!1)=>{const d=new Date(j().getTime()-864e5*v);return i?d.toISOString().slice(0,10):m(d)},$=v=>{const i=j();return m(i)===m(v)},P=(v,i)=>m(new Date(v))===m(new Date(i))},7562:(W,x,n)=>{n.d(x,{K:()=>M});var E=n(9646),O=n(4004),l=n(3470);function m(u,r=1){return+u||r}class o extends class U{constructor(r,t){this.filters={},this.cache={animeList:[],latestEpisodes:[]},this._name=r,this._baseUrl=t,this._isActive=!0,this.filters={number:e=>m(e),boolean:e=>!!(null==e?void 0:e.length),trim:e=>e.trim(),decodeUrl:e=>decodeURI(e),encodeUrl:e=>encodeURI(e),concatUrl:e=>/^https?:\/\//.test(e)?e:`${this.baseUrl.replace(/\/$/,"")}/${null==e?void 0:e.replace(/^\//,"")}`,concatProtocol:e=>/^https?:\/\//.test(e)?e:`https://${null==e?void 0:e.replace(/^\/+/,"")}`,date:e=>{var s;return null===(s=new Date(e))||void 0===s?void 0:s.getTime()}}}get name(){return this._name}get baseUrl(){return this._baseUrl}get isActive(){return this._isActive}set isActive(r){this._isActive=r}getAnimeList(r=!1){return this.cache.animeList.length>0&&!r?(0,E.of)(this.cache.animeList):this._getAnimeList().pipe((0,O.U)(t=>(this.cache.animeList=t,t)))}getAnimeInfo(r){return this._getAnimeInfo(r).pipe((0,O.U)(t=>(t&&(t.link=r),t)))}getEpisodes(r){return this._getEpisodes(r)}getLatestEpisodes(r=!1){return this.cache.latestEpisodes.length>0&&!r?(0,E.of)(this.cache.latestEpisodes):this._getLatestEpisodes().pipe((0,O.U)(t=>{const e=t.map(s=>Object.assign(Object.assign({},s),{anime:Object.assign(Object.assign({},s.anime),{title:s.anime.title.trim()}),fetchingDate:(new Date).getTime(),releaseDate:s.releaseDate||(0,l.Lg)(),hasTemporaryReleaseDate:!s.releaseDate}));return this.cache.latestEpisodes=e,e}))}searchAnime(r){return this._getAnimeList().pipe((0,O.U)(t=>t.filter(s=>-1!==s.title.toLowerCase().indexOf(r.toLowerCase()))||[]))}}{_getAnimeList(r=!1){return(0,E.of)([])}_getAnimeInfo(r){return(0,E.of)()}_getEpisodes(r){return(0,E.of)([])}}var S=n(4056);const b={vostfr:[class V extends o{constructor(r){super("AnimeKo","https://animeko.co"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{cover:t=>{const e=t.replace("/small","");return this.filters.concatUrl(e)},subtitles:t=>"vostfr",date:t=>{var e;let s=t.toLowerCase();return-1!==s.indexOf("aujourd'hui")?(0,l.Lg)():-1!==s.indexOf("hier")?(0,l.Cv)():(s=s.replace(new RegExp("^("+l.F3.join("|")+")","g"),""),s=s.replace(new RegExp("("+Object.keys(l.ty).join("|")+")","g"),C=>l.ty[C]).trim(),s=s.split(" ").reverse().join("-"),null===(e=new Date(s))||void 0===e?void 0:e.getTime())}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/dernieres-sorties`,".releases ul li.small-card",{anime:{title:"h2 a",cover:"img@data-src | cover",isNew:".badge-status.new | boolean",isFinished:".badge-status.end | boolean",isMovie:".badge-type.movie | boolean"},number:"span.badge-number | number",streamLinks:[{url:"h2 a@href | concatUrl",lang:"| subtitles"}],releaseDate:":prev div .untitle | date"},this.filters)}},class I extends o{constructor(r){super("VostAnimez","https://vostanimez.com"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.replace(/(.*) \((\w+)\)$/i,"$1"),number:t=>{const e=t.match(/(.*) episode (\d+)/i);return(null==e?void 0:e.length)?+e[2]:1},subtitles:t=>{const e=t.match(/(.*) \((\w+)\)$/i);return(null==e?void 0:e.length)?e[2].toLowerCase():"vostfr"},date:t=>{var e;return null===(e=new Date(t))||void 0===e?void 0:e.getTime()}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/liste-des-episodes/`,"section ul.Episodes > li",{anime:{title:".Title | title",cover:".Image img@src | concatProtocol"},number:".ClB | number",streamLinks:[{url:"article > a@href",lang:".Title | subtitles"}],releaseDate:".Year | date"},this.filters)}},class f extends o{constructor(r){super("Neko-sama","https://www.neko-sama.fr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/Ep. (\d+)/);return m((null==e?void 0:e.length)?e[1]:t)},date:t=>{var e;if(-1!==t.indexOf("minute")||-1!==t.indexOf("heure"))return(0,l.Lg)();if(-1!==t.indexOf("il y a 1 jour"))return(0,l.Cv)();{const s=t.match(/il y a (\d+) jours/);return(null==s?void 0:s.length)?(0,l.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.getRawHTML(this.baseUrl).pipe((0,O.U)(r=>{const t=r.match(/lastEpisodes = \[(.*)\]/),e=[];if(null==t?void 0:t.length)try{JSON.parse(`[${t[1]}]`).forEach(C=>{e.push({anime:{title:C.title,cover:C.url_image},number:this.filters.number(C.episode),streamLinks:[{url:this.filters.concatUrl(C.url),lang:"vostfr"}],releaseDate:this.filters.date(C.time)})})}catch(s){console.error(s.message)}return e}))}},class h extends o{constructor(r){super("VoirAnime","https://voiranime.com"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{cover:t=>t.replace("-110x150",""),subtitles:t=>"vostfr",date:t=>{var e;if(-1!==t.indexOf("mins ago")||-1!==t.indexOf("hours ago"))return(0,l.Lg)();if(-1!==t.indexOf("1 day ago"))return(0,l.Cv)();{const s=t.match(/(\d+) days ago/);return(null==s?void 0:s.length)?(0,l.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/?filter=subbed`,"#loop-content .page-item-detail",{anime:{title:".post-title h3 a",cover:"img.img-responsive@src | cover"},number:".chapter-item:first-child .chapter a | number",streamLinks:[{url:[".chapter-item:first-child .chapter a@href",".post-title h3 a@href"],lang:"| subtitles"}],releaseDate:".chapter-item:first-child .post-on | date"},this.filters)}},class c extends o{constructor(r){super("VoirAnime.org","https://voiranime.org"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>{const e=t.trim().match(/(.*) (\u2013|\xe9pisode) (\d+) (vostfr|vf)(?:.*)$/i);return(null==e?void 0:e.length)?e[1].trim():t},number:t=>{const e=t.trim().match(/(\d+) (vostfr|vf)(?:.*)$/i);return m((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>{const e=t.trim().match(/(vostfr|vf)(?:.*)$/i);return(null==e?void 0:e.length)?e[1]:"vostfr"}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#content .video-item",{anime:{title:".item-head > h3 > a | title",cover:".item-thumbnail img@data-src,src"},number:".item-head > h3 > a | number",streamLinks:[{url:".item-head > h3 > a@href",lang:".item-head > h3 > a | subtitles"}]},this.filters)}},class _ extends o{constructor(r){super("11Anim","https://11anim.net"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.replace("VOSTFR","").replace(/(.*) Episode (\d+)/i,"$1").replace(/ \u2013 $/,""),number:t=>{const e=t.replace("VOSTFR","").match(/(.*) Episode (\d+)/i);return(null==e?void 0:e.length)?+e[2]:1},subtitles:t=>"vostfr",date:t=>{var e;let s=t.replace("Ajout\xe9 le ","").toLowerCase();return s=s.replace(new RegExp("^("+l.F3.join("|")+")","g"),""),s=s.replace(new RegExp("("+Object.keys(l.ty).join("|")+")","g"),C=>l.ty[C]).trim(),s=s.split(" ").reverse().join("-"),null===(e=new Date(s))||void 0===e?void 0:e.getTime()}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#main .loop > article",{anime:{title:"div > a > span | title",cover:"div img@src | concatUrl"},number:"div > a > span | number",streamLinks:[{url:"div > a@href",lang:"| subtitles"}],releaseDate:".entry-meta > span > small | date"},this.filters)}},class N extends o{constructor(r){super("MavAnimes","http://www.mavanimes.co"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{cover:t=>-1!==t.indexOf(",")?t.split(",")[0].replace(/ (\d+\w)$/,""):t.replace("-300x169",""),number:t=>{const e=t.replace("VOSTFR","").match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1},title:t=>t.replace("VOSTFR","").replace(/(.*) (\d+)/,"$1").replace(/ \u2013 $/,""),subtitles:t=>"vostfr"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"div.animes-grid div.grid-item > div",{anime:{title:"p | title",cover:"img.wp-post-image@srcset,src,data-cfsrc | cover"},number:"p | number",streamLinks:[{url:"a@href",lang:"| subtitles"}]},this.filters)}},class K extends o{constructor(r){super("AnimeResistance","https://animeresistance.co"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/EP. (\d+)/);return m((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>"vostfr",date:t=>{var e;if(-1!==t.indexOf("minute")||-1!==t.indexOf("heure"))return(0,l.Lg)();if(-1!==t.indexOf("il y a 1 jour"))return(0,l.Cv)();{const s=t.match(/il y a (\d+) jours/);return(null==s?void 0:s.length)?(0,l.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,".container .row .card",{anime:{title:"a.title",cover:"a.thumbnail-link img@src | concatUrl"},number:".number | number",streamLinks:[{url:"a.thumbnail-link@href | concatUrl",lang:"| subtitles"}],releaseDate:".published | date"},this.filters)}},class k extends o{constructor(r){super("OtakuFr","https://otakufr.co"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>{const e=t.trim().match(/(.*) (\d+) vostfr(?:.*)$/i);return(null==e?void 0:e.length)?e[1].trim():t},number:t=>{const e=t.trim().match(/(\d+) vostfr(?:.*)$/i);return m((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>(null==t?void 0:t.length)?t.toLowerCase().trim():"vostfr",date:t=>{var e;let s=t.toLowerCase();return s=s.replace(new RegExp("^("+l.F3.join("|")+")","g"),""),s=s.replace(new RegExp("("+Object.keys(l.ty).join("|")+")","g"),C=>l.ty[C]).trim(),s=s.split(" ").reverse().join("-"),null===(e=new Date(s))||void 0===e?void 0:e.getTime()}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,".section-1 > article.episode",{anime:{title:"a.episode-link | title",cover:"figure img@src"},number:"a.episode-link | number",streamLinks:[{url:"a.episode-link@href",lang:".traduction | subtitles"}],releaseDate:":prev div.title | date"},this.filters)}},class g extends o{constructor(r){super("VostFree","https://vostfree.com"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.replace(/ VOSTFR(?:.*)$/,""),cover:t=>this.filters.concatUrl(t),date:t=>{var e;let s=t.toLowerCase();if(-1!==s.indexOf("aujourd'hui"))return(0,l.Lg)();if(-1!==s.indexOf("hier"))return(0,l.Cv)();{const C=s.split(",");return s=C[0].split("-").reverse().join("-")+C[1],null===(e=new Date(s.replace(",","")))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/animes-vostfr`,"#content div.movie-poster",{anime:{title:".info .title | title",cover:".image img@src,data-cfsrc | cover",isNew:".anime-new | boolean",isFinished:".anime-fin | boolean"},number:".alt .year b | number",streamLinks:[{url:".play a.link@href",lang:".quality"}],releaseDate:".info ul.additional li.type:first-child a | date"},this.filters)}},class B extends o{constructor(r){super("Mangas-vostfr","https://mangas-vostfr.com"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.replace("Vostfr","").match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1},title:t=>t.replace("Vostfr","").replace(/(.*) (\d+)/,"$1").trim(),subtitles:t=>"vostfr",date:t=>{var e;let s=t.toLowerCase();return s=s.replace(new RegExp("("+Object.keys(l.ty).join("|")+")","g"),C=>l.ty[C]).trim(),s=s.split(" ").reverse().join("-"),null===(e=new Date(s))||void 0===e?void 0:e.getTime()}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#content_box > article",{anime:{title:"h2.title a | title",cover:".featured-thumbnail img@data-lazy-src,src"},number:"h2.title a | number",streamLinks:[{url:"h2.title a@href",lang:"| subtitles"}],releaseDate:".post-info .date span | date"},this.filters)}},class F extends o{constructor(r){super("WacVostfr","https://wacvostfr.com"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>{const e=t.trim().match(/(.*) (\u2013|\xe9pisode) (\d+) (vostfr|vf)(?:.*)$/i);return(null==e?void 0:e.length)?e[1].trim():t},number:t=>{const e=t.trim().match(/(\d+) (vostfr|vf)(?:.*)$/i);return m((null==e?void 0:e.length)?e[1]:t)},cover:t=>{const e=this.filters.title(t);return this.filters.concatUrl(`/imgs/animes/${(0,S.lV)(e,"-")}.jpg`)},subtitles:t=>{const e=t.trim().match(/(vostfr|vf)(?:.*)$/i);return(null==e?void 0:e.length)?e[1]:"vostfr"}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#posts-list + .card.mt-4 ul > a",{anime:{title:":self | title",cover:":self | cover"},number:":self | number",streamLinks:[{url:":self@href | concatUrl",lang:":self | subtitles"}]},this.filters)}},class a extends o{constructor(r){super("ToonAnime","https://wvvw.toonanime.tv"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.replace(/vostfr/i,"").trim(),number:t=>{const e=t.match(/EP (\d+)/);return m((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>(null==t?void 0:t.length)?t.toLowerCase().trim():"vostfr"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/anime-vostfr/`,"#dle-content > article",{anime:{title:"footer > div.short__story-title | title",cover:"img@data-src,src | concatUrl"},number:".progress__box > div | number",streamLinks:[{url:"a@href",lang:".label__rate | subtitles"}]},this.filters)}}],vosten:[class R extends o{constructor(r){super("GogoPlay","https://gogoplay1.com"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>{const e=t.match(/(.*) Episode (\d+)/);return(null==e?void 0:e.length)?e[1].trim():t},number:t=>{const e=t.match(/Episode (\d+)/);return m((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>"vosten",date:t=>{var e;if(-1!==t.indexOf("mins ago")||-1!==t.indexOf("hours ago"))return(0,l.Lg)();if(-1!==t.indexOf("1 day ago"))return(0,l.Cv)();{const s=t.match(/(\d+) days ago/);return(null==s?void 0:s.length)?(0,l.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"ul.listing.items > li",{anime:{title:".name | title",cover:".picture img@src"},number:".name | number",streamLinks:[{url:"a@href | concatUrl",lang:"| subtitles"}],releaseDate:".meta > .date | date"},this.filters)}},class d extends o{constructor(r){super("AnimeKisa","https://animekisa.tv"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/Episode (\d+)/);return m((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>"vosten",date:t=>1e3*+t})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,".listAnimes > div.episode-box",{anime:{title:".title-box > div",cover:".image-box img@src,data-cfsrc | concatUrl"},number:".info-box > div | number",streamLinks:[{url:".episode-box-2 a.an:first-child@href | concatUrl",lang:"| subtitles"}],releaseDate:".info-box > div > time@time | date"},this.filters)}},class H extends o{constructor(r){super("YugenAnime","https://yugenani.me"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{cover:t=>{const e=t.trim().match(/this\.src='(.*)'$/i);return(null==e?void 0:e.length)?e[1]:t},number:t=>{const e=t.trim().match(/(\d+) (?:.*)$/i);return m((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>"vosten"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/latest`,"section ul.ep-grid li.ep-card",{anime:{title:"a.ep-details .ep-origin-name",cover:"a.ep-thumbnail img@onerror,data-src,src | cover"},number:"a.ep-title | number",streamLinks:[{url:"a.ep-thumbnail@href | concatUrl",lang:"| subtitles"}],releaseDate:"a.ep-details .ep-statistics time@datetime | date"},this.filters)}},class p extends o{constructor(r){super("AnimixPlay","https://animixplay.to"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/EP (\d+)/);return m((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>"vosten",date:t=>{var e;if(-1!==t.indexOf("mins ago")||-1!==t.indexOf("hours ago"))return(0,l.Lg)();if(-1!==t.indexOf("1 day ago"))return(0,l.Cv)();{const s=t.match(/(\d+) days ago/);return(null==s?void 0:s.length)?(0,l.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#resultplace ul li",{anime:{title:"a .details .name",cover:"a img.resultimg@src"},number:"a .details .infotext | number",streamLinks:[{url:"a@href | concatUrl",lang:"| subtitles"}],releaseDate:"a .timetext | date"},this.filters)}},class L extends o{constructor(r){super("GogoAnime","https://gogoanime.pe"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/Episode (\d+)/);return m((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>-1!==(null==t?void 0:t.indexOf("ic-DUB"))?"dub":"vosten"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,".last_episodes ul li",{anime:{title:"p.name a",cover:"div.img img@src"},number:"p.episode | number",streamLinks:[{url:"p.name a@href | concatUrl",lang:".type@class | subtitles"}]},this.filters)}}],vostar:[class i extends o{constructor(r){super("WitAnime","https://witanime.com"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1},subtitles:t=>"vostar"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"body > div.page-content-container:not(.content) .episodes-list-content .episodes-card-container",{anime:{title:".ep-card-anime-title > h3 > a",cover:".episodes-card > div > img@src"},number:".episodes-card-title > h3 > a | number",streamLinks:[{url:".episodes-card > div > a@href | decodeUrl",lang:"| subtitles"}]},this.filters)}},class $ extends o{constructor(r){super("Anime4up","https://w1.anime4up.com"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1},subtitles:t=>"vostar"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,["body > div:nth-child(6).page-content-container .episodes-list-content .episodes-card-container","body > div:nth-child(8).page-content-container .episodes-list-content .episodes-card-container"],{anime:{title:".ep-card-anime-title > h3 > a",cover:".episodes-card > div > img@src"},number:".episodes-card-title > h3 > a | number",streamLinks:[{url:".episodes-card > div > a@href | decodeUrl",lang:"| subtitles"}]},this.filters)}},class P extends o{constructor(r){super("ArabAnime","https://www.arabanime.net"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1},subtitles:t=>"vostar"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"section#specials > .container > .row > .col-6",{anime:{title:"a.as-info@title | trim",cover:"img.img-fluid@src"},number:"a.as-info > h3 > span | number",streamLinks:[{url:"a.as-info@href | concatUrl",lang:"| subtitles"}]},this.filters)}},class T extends o{constructor(r){super("AddAnime","https://apk.addanime.online"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.split("|")[0].trim(),number:t=>{const e=t.match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1},subtitles:t=>"vostar"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/episode`,"body > .container > .anime-list-content > .row > div",{anime:{title:".anime-card-details > .anime-card-title@title | title",cover:".anime-card-poster img@src"},number:".anime-card-poster .episodes-card-title > h3 > a | number",streamLinks:[{url:".anime-card-poster .episodes-card-title > h3 > a@href | decodeUrl",lang:"| subtitles"}]},this.filters)}},class v extends o{constructor(r){super("OKanime","https://okanime.tv"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{subtitles:t=>"vostar"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/dashboard/newest_episodes`,".latest-episodes > div.row > .item",{anime:{title:"span.video-title",cover:".batnie-image img@data-src | concatUrl"},number:"span.video-subtitle span | number",streamLinks:[{url:"a@href | concatUrl",lang:"| subtitles"}]},this.filters)}}]},w=Object.keys(b).reduce((u,r)=>[...u,...b[r]],[]);var A=n(1223),y=n(8798),D=n(452);let M=(()=>{class u{constructor(t,e){this.scraper=t,this.settings=e,this.crawlers=[];for(const s of w)this.add(new s(this.scraper));this.update()}update(){this.crawlers.forEach(t=>{t.isActive=-1===this.settings.inactiveCrawlers.indexOf(t.name)})}add(t){this.crawlers.push(t)}remove(t){this.crawlers=this.crawlers.filter(e=>e.name!==t.name)}get(...t){return this.crawlers.filter(e=>-1!==t.indexOf(e.name))}getAll(t=!1){return t&&this.update(),this.crawlers}getAllExcept(...t){return this.crawlers.filter(e=>-1===t.indexOf(e.name))}getActive(t=!1){return t&&this.update(),this.crawlers.filter(e=>e.isActive)}get count(){return this.getAll().length}get activeCount(){return this.getActive().length}}return u.\u0275fac=function(t){return new(t||u)(A.LFG(y.V),A.LFG(D.g))},u.\u0275prov=A.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},8798:(W,x,n)=>{n.d(x,{V:()=>N});var E=n(9646),O=n(1566),l=n(1165),j=n(4482),m=n(8421),U=n(3888),o=n(5403),T=n(9672);const $=(0,U.d)(f=>function(a=null){f(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=a});function v(f){throw new $(f)}var i=n(4004),d=n(262),p=n(5012),L=n(1223),R=n(520),H=n(4056),V=n(6622);let K=(()=>{class f{constructor(){this.parser=new DOMParser}fromString(a){return this.parser.parseFromString(a,"text/html")}parse(a,h,c,g){let S=[];const F=this.fromString(a),_=(0,V.k)(h)?h.join(", "):h;return F.querySelectorAll(_).forEach(I=>{const b={};Object.keys(c).forEach(w=>{(0,H.HD)(c[w])?b[w]=this.find(I,c[w],g):(0,V.k)(c[w])?(b[w]=[],c[w].forEach(A=>{if((0,H.HD)(A))b[w].push(this.find(I,A,g));else{let y={};Object.keys(A).forEach(D=>{y[D]=this.parseSelector(I,A[D],g)}),b[w].push(y)}})):(b[w]={},Object.keys(c[w]).forEach(A=>{b[w][A]=this.parseSelector(I,c[w][A],g)}))}),S.push(b)}),S}parseSelector(a,h,c){if(!(0,V.k)(h))return this.find(a,h,c);for(const g of h){const S=this.find(a,g,c);if(S)return S}}find(a,h,c){var g,S,F,_,I,b;const w=h.split("|"),A=w[0].split("@"),y={selector:null===(g=A[0])||void 0===g?void 0:g.trim(),attributes:null===(S=A[1])||void 0===S?void 0:S.trim().split(","),filter:null===(F=w[1])||void 0===F?void 0:F.trim()};let D=null,M="";try{(null===(_=y.selector)||void 0===_?void 0:_.length)&&(D=y.selector.startsWith(":prev ")?this.getPreviousSibling(a,y.selector.replace(":prev ","")):y.selector.startsWith(":next ")?this.getNextSibling(a,y.selector.replace(":next ","")):y.selector.startsWith(":self")?a:a.querySelector(y.selector))}catch(u){console.error(u.message)}return D&&((null===(I=y.attributes)||void 0===I?void 0:I.length)?y.attributes.forEach(u=>{(null==M?void 0:M.length)||(M=D.getAttribute(u))}):M=D.innerHTML),(null===(b=y.filter)||void 0===b?void 0:b.length)&&(null==c?void 0:c[y.filter])&&(M=c[y.filter](M,a)),M}getPreviousSibling(a,h){let c=a.previousElementSibling;if(!h)return c;for(;c;){if(c.matches(h))return c;const g=c.querySelector(h);if(g)return g;c=c.previousElementSibling}return null}getNextSibling(a,h){let c=a.nextElementSibling;if(!h)return c;for(;c;){if(c.matches(h))return c;const g=c.querySelector(h);if(g)return g;c=c.nextElementSibling}return null}}return f.\u0275fac=function(a){return new(a||f)},f.\u0275prov=L.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();var B=n(452);let N=(()=>{class f{constructor(a,h,c){this.httpClient=a,this.htmlParser=h,this.settings=c}get proxy(){return p._[this.settings.proxy.name]}scrape(a,h,c,g){return this.getRawHTML(a).pipe((0,i.U)(S=>this.htmlParser.parse(S,h,c,g)))}getRawHTML(a,h=3e4){return this.httpClient.get(this.resolveUrl(a),{responseType:"text",headers:this.getRequestHeaders()}).pipe(function P(f,k){const{first:a,each:h,with:c=v,scheduler:g=(null!=k?k:O.z),meta:S=null}=(0,l.q)(f)?{first:f}:"number"==typeof f?{each:f}:f;if(null==a&&null==h)throw new TypeError("No timeout provided.");return(0,j.e)((F,_)=>{let I,b,w=null,A=0;const y=D=>{b=(0,T.f)(_,g,()=>{try{I.unsubscribe(),(0,m.Xf)(c({meta:S,lastValue:w,seen:A})).subscribe(_)}catch(M){_.error(M)}},D)};I=F.subscribe((0,o.x)(_,D=>{null==b||b.unsubscribe(),A++,_.next(w=D),h>0&&y(h)},void 0,void 0,()=>{(null==b?void 0:b.closed)||null==b||b.unsubscribe(),w=null})),y(null!=a?"number"==typeof a?a:+a-g.now():h)})}(h),(0,d.K)(c=>{const g=this.resolveError(c,a);return console.error(g),(0,E.of)("")}))}resolveError(a,h){return"Timeout has occurred"===a.message?`${a.message} for ${h}`:a.message}resolveUrl(a){return this.settings.proxy.enabled?`${this.proxy.url}${a}`:a}getRequestHeaders(){const a=this.settings.proxy.enabled?this.proxy.headers:null;return a?Object.keys(a).reduce((h,c)=>Object.assign(Object.assign({},h),{[c]:this.resolveHeaderValue(a[c])}),{}):{}}resolveHeaderValue(a){switch(a){case"$hostname":return window.location.hostname;case"$apiKey":return this.settings.proxy.apiKey;default:return a}}}return f.\u0275fac=function(a){return new(a||f)(L.LFG(R.eN),L.LFG(K),L.LFG(B.g))},f.\u0275prov=L.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},4128:(W,x,n)=>{n.d(x,{D:()=>T});var E=n(8306),O=n(4742),l=n(8421),j=n(3269),m=n(5403),U=n(3268),o=n(1810);function T(...$){const P=(0,j.jO)($),{args:v,keys:i}=(0,O.D)($),d=new E.y(p=>{const{length:L}=v;if(!L)return void p.complete();const R=new Array(L);let H=L,V=L;for(let K=0;K<L;K++){let B=!1;(0,l.Xf)(v[K]).subscribe((0,m.x)(p,N=>{B||(B=!0,V--),R[K]=N},()=>H--,void 0,()=>{(!H||!B)&&(V||p.next(i?(0,o.n)(i,R):R),p.complete())}))}});return P?d.pipe((0,U.Z)(P)):d}},2805:(W,x,n)=>{n.d(x,{H:()=>m});var E=n(8306),O=n(1566),l=n(3532),j=n(1165);function m(U=0,o,T=O.P){let $=-1;return null!=o&&((0,l.K)(o)?T=o:$=o),new E.y(P=>{let v=(0,j.q)(U)?+U-T.now():U;v<0&&(v=0);let i=0;return T.schedule(function(){P.closed||(P.next(i++),0<=$?this.schedule(void 0,$):P.complete())},v)})}},1566:(W,x,n)=>{n.d(x,{P:()=>P,z:()=>$});var E=n(727);class O extends E.w0{constructor(i,d){super()}schedule(i,d=0){return this}}const l={setInterval(...v){const{delegate:i}=l;return((null==i?void 0:i.setInterval)||setInterval)(...v)},clearInterval(v){const{delegate:i}=l;return((null==i?void 0:i.clearInterval)||clearInterval)(v)},delegate:void 0};var j=n(8737);const U={now:()=>(U.delegate||Date).now(),delegate:void 0};class o{constructor(i,d=o.now){this.schedulerActionCtor=i,this.now=d}schedule(i,d=0,p){return new this.schedulerActionCtor(this,i).schedule(p,d)}}o.now=U.now;const $=new class T extends o{constructor(i,d=o.now){super(i,d),this.actions=[],this._active=!1,this._scheduled=void 0}flush(i){const{actions:d}=this;if(this._active)return void d.push(i);let p;this._active=!0;do{if(p=i.execute(i.state,i.delay))break}while(i=d.shift());if(this._active=!1,p){for(;i=d.shift();)i.unsubscribe();throw p}}}(class m extends O{constructor(i,d){super(i,d),this.scheduler=i,this.work=d,this.pending=!1}schedule(i,d=0){if(this.closed)return this;this.state=i;const p=this.id,L=this.scheduler;return null!=p&&(this.id=this.recycleAsyncId(L,p,d)),this.pending=!0,this.delay=d,this.id=this.id||this.requestAsyncId(L,this.id,d),this}requestAsyncId(i,d,p=0){return l.setInterval(i.flush.bind(i,this),p)}recycleAsyncId(i,d,p=0){if(null!=p&&this.delay===p&&!1===this.pending)return d;l.clearInterval(d)}execute(i,d){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const p=this._execute(i,d);if(p)return p;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,d){let L,p=!1;try{this.work(i)}catch(R){p=!0,L=R||new Error("Scheduled action threw falsy error")}if(p)return this.unsubscribe(),L}unsubscribe(){if(!this.closed){const{id:i,scheduler:d}=this,{actions:p}=d;this.work=this.state=this.scheduler=null,this.pending=!1,(0,j.P)(p,this),null!=i&&(this.id=this.recycleAsyncId(d,i,null)),this.delay=null,super.unsubscribe()}}}),P=$},1165:(W,x,n)=>{function E(O){return O instanceof Date&&!isNaN(O)}n.d(x,{q:()=>E})}}]);