"use strict";(self.webpackChunkanime_tracker=self.webpackChunkanime_tracker||[]).push([[579],{6622:(W,S,l)=>{l.d(S,{x:()=>j,k:()=>y});const j=function(o,U=[]){for(let v=0,D=o.length;v<D;v++){const w=o[v];y(w)?j(w,U):U.push(w)}return U};function y(o){return Array.isArray(o)||o instanceof Array}},3470:(W,S,l)=>{l.d(S,{F3:()=>y,ty:()=>o,zO:()=>U,hp:()=>v,Lg:()=>D,Cv:()=>w,m8:()=>h,GW:()=>$,zu:()=>P});const y=["lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche"],o={janvier:1,f\u00e9vrier:2,mars:3,avril:4,mai:5,juin:6,juillet:7,ao\u00fbt:8,septembre:9,octobre:10,novembre:11,d\u00e9cembre:12},U=()=>new Date,v=g=>g.setHours(0,0,0,0),D=(g=!1)=>{const n=U();return g?n.toISOString().slice(0,10):v(n)},w=(g=!1)=>h(1,g),h=(g,n=!1)=>{const u=new Date(U().getTime()-864e5*g);return n?u.toISOString().slice(0,10):v(u)},$=g=>{const n=U();return v(n)===v(g)},P=(g,n)=>v(new Date(g))===v(new Date(n))},3531:(W,S,l)=>{l.d(S,{K:()=>J});var j=l(9646),y=l(4004),o=l(3470);function v(d,r=1){return+d||r}var D=l(4056);class h extends class w{constructor(r,t,e){this.filters={},this.cache={animeList:[],latestEpisodes:[]},this._name=r,this._baseUrl=t,this._isActive=!0,this._defaultSubtitles=e,this.filters={number:s=>v(s),boolean:s=>!!(null==s?void 0:s.length),trim:s=>s.trim(),capitalize:s=>(0,D.kC)(s),decodeUrl:s=>decodeURI(s),encodeUrl:s=>encodeURI(s),concatUrl:s=>/^https?:\/\//.test(s)?s:`${this.baseUrl.replace(/\/$/,"")}/${null==s?void 0:s.replace(/^\//,"")}`,concatProtocol:s=>/^https?:\/\//.test(s)?s:`https://${null==s?void 0:s.replace(/^\/+/,"")}`,date:s=>{var m;const B=null===(m=new Date(s))||void 0===m?void 0:m.getTime(),H=(0,o.zO)().getTime();return B>H?H:B},subtitles:s=>e}}get name(){return this._name}get baseUrl(){return this._baseUrl}get subtitles(){return this._defaultSubtitles}get isActive(){return this._isActive}set isActive(r){this._isActive=r}getAnimeList(r=!1){return this.cache.animeList.length>0&&!r?(0,j.of)(this.cache.animeList):this._getAnimeList().pipe((0,y.U)(t=>(this.cache.animeList=t,t)))}getAnimeInfo(r){return this._getAnimeInfo(r).pipe((0,y.U)(t=>(t&&(t.link=r),t)))}getEpisodes(r){return this._getEpisodes(r)}getLatestEpisodes(r=!1){return this.cache.latestEpisodes.length>0&&!r?(0,j.of)(this.cache.latestEpisodes):this._getLatestEpisodes().pipe((0,y.U)(t=>{const e=t.map(s=>Object.assign(Object.assign({},s),{anime:Object.assign(Object.assign({},s.anime),{title:s.anime.title.trim()}),fetchingDate:(new Date).getTime(),releaseDate:s.releaseDate||(0,o.Lg)(),hasTemporaryReleaseDate:!s.releaseDate}));return this.cache.latestEpisodes=e,e}))}searchAnime(r){return this._getAnimeList().pipe((0,y.U)(t=>t.filter(s=>-1!==s.title.toLowerCase().indexOf(r.toLowerCase()))||[]))}}{_getAnimeList(r=!1){return(0,j.of)([])}_getAnimeInfo(r){return(0,j.of)()}_getEpisodes(r){return(0,j.of)([])}}var z=l(6622);const E={vostfr:[class X extends h{constructor(r){super("AnimeKo","https://animeko.co","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{cover:t=>{const e=t.replace("/small","");return this.filters.concatUrl(e)},date:t=>{var e;let s=t.toLowerCase();return-1!==s.indexOf("aujourd'hui")?(0,o.Lg)():-1!==s.indexOf("hier")?(0,o.Cv)():(s=s.replace(new RegExp("^("+o.F3.join("|")+")","g"),""),s=s.replace(new RegExp("("+Object.keys(o.ty).join("|")+")","g"),m=>o.ty[m]).trim(),s=s.split(" ").reverse().join("-"),null===(e=new Date(s))||void 0===e?void 0:e.getTime())}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/dernieres-sorties`,".releases ul li.small-card",{anime:{title:"h2 a",cover:"img@data-src | cover",isNew:".badge-status.new | boolean",isFinished:".badge-status.end | boolean",isMovie:".badge-type.movie | boolean"},number:"span.badge-number | number",streamLinks:[{url:"h2 a@href | concatUrl",lang:"| subtitles"}],releaseDate:":prev div .untitle | date"},this.filters)}},class V extends h{constructor(r){super("Neko-sama","https://www.neko-sama.fr","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/Ep. (\d+)/);return v((null==e?void 0:e.length)?e[1]:t)},date:t=>{var e;if(-1!==t.indexOf("minute")||-1!==t.indexOf("heure"))return(0,o.Lg)();if(-1!==t.indexOf("il y a 1 jour"))return(0,o.Cv)();{const s=t.match(/il y a (\d+) jours/);return(null==s?void 0:s.length)?(0,o.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.getRawHTML(this.baseUrl).pipe((0,y.U)(r=>{const t=r.match(/lastEpisodes = \[(.*)\]/),e=[];if(null==t?void 0:t.length)try{JSON.parse(`[${t[1]}]`).forEach(m=>{e.push({anime:{title:m.title,cover:m.url_image},number:this.filters.number(m.episode),streamLinks:[{url:this.filters.concatUrl(m.url),lang:"vostfr"}],releaseDate:this.filters.date(m.time)})})}catch(s){console.error(s.message)}return e}))}},class O extends h{constructor(r){super("BanAnimes","https://bananimes.com","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/Episode (\d+)/);return v((null==e?void 0:e.length)?e[1]:t)},cover:t=>t.replace("-110x150",""),date:t=>{var e;if(-1!==t.indexOf("mins ago")||-1!==t.indexOf("hours ago")||-1!==t.indexOf("heures ago")||-1!==t.indexOf("minutes ago"))return(0,o.Lg)();if(-1!==t.indexOf("1 day ago")||-1!==t.indexOf("1 jour ago"))return(0,o.Cv)();{const s=t.match(/(\d+) (?:days|jours) ago/);return(null==s?void 0:s.length)?(0,o.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/?filter=VOSTFR`,"#loop-content .page-item-detail",{anime:{title:".post-title h3 a",cover:"img.img-responsive@data-src,src | cover"},number:".chapter-item:first-child .chapter a | number",streamLinks:[{url:[".chapter-item:first-child .chapter a@href",".post-title h3 a@href"],lang:"| subtitles"}],releaseDate:".chapter-item:first-child .post-on | date"},this.filters)}},class c extends h{constructor(r){super("VoirAnime","https://voiranime.com","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{cover:t=>t.replace("-110x150",""),date:t=>{var e;if(-1!==t.indexOf("mins ago")||-1!==t.indexOf("hours ago"))return(0,o.Lg)();if(-1!==t.indexOf("1 day ago"))return(0,o.Cv)();{const s=t.match(/(\d+) days ago/);return(null==s?void 0:s.length)?(0,o.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/?filter=subbed`,"#loop-content .page-item-detail",{anime:{title:".post-title h3 a",cover:"img.img-responsive@src | cover"},number:".chapter-item:first-child .chapter a | number",streamLinks:[{url:[".chapter-item:first-child .chapter a@href",".post-title h3 a@href"],lang:"| subtitles"}],releaseDate:".chapter-item:first-child .post-on | date"},this.filters)}},class p extends h{constructor(r){super("VoirAnime.org","https://voiranime.org","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>{const e=t.trim().match(/(.*) (\u2013|\xe9pisode) (\d+) (vostfr|vf)(?:.*)$/i);return(null==e?void 0:e.length)?e[1].trim():t},number:t=>{const e=t.trim().match(/(\d+) (vostfr|vf)(?:.*)$/i);return v((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>{const e=t.trim().match(/(vostfr|vf)(?:.*)$/i);return(null==e?void 0:e.length)?e[1]:"vostfr"}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#content .video-item",{anime:{title:".item-head > h3 > a | title",cover:".item-thumbnail img@data-src,src"},number:".item-head > h3 > a | number",streamLinks:[{url:".item-head > h3 > a@href",lang:".item-head > h3 > a | subtitles"}]},this.filters)}},class _ extends h{constructor(r){super("JetAnimes","https://www.jetanimes.com","vostfr"),this.scraper=r;const t=this.filters.date;this.filters=Object.assign(Object.assign({},this.filters),{title:(e,s)=>{var m;if(e)return e;const H=s.querySelector(".data > h3 > a").getAttribute("href"),Y=H.split("/"),Z=null===(m=Y[Y.length-2])||void 0===m?void 0:m.split("-").join(" ").replace(/saison \d+|episode \d+/gi,"").trim();return Z?this.filters.capitalize(Z):H},number:(e,s)=>{let m=e.match(/E(\d+)/i);return(null==m?void 0:m.length)?+m[1]:(m=s.querySelector(".data > h3 > a").getAttribute("href").match(/episode-(\d+)/i),(null==m?void 0:m.length)?+m[1]:1)},subtitles:e=>{const s=e.match(/HD ([A-Za-z]+)$/i);return(null==s?void 0:s.length)?s[1].toLowerCase():"vostfr"},date:e=>{var s;const B=null===(s=e.split("/")[1])||void 0===s?void 0:s.replace(".","").trim();return t(B)}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/episodes/`,"#archive-content > article",{anime:{title:".data .serie | title",cover:".poster img@src"},number:".data > span:first-of-type | number",streamLinks:[{url:".data > h3 > a@href",lang:".poster .quality | subtitles"}],releaseDate:".data > span:first-of-type | date"},this.filters)}},class M extends h{constructor(r){super("IAnimeFr","https://ianime-fr.com","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.replace("VOSTFR","").replace(/(.*) Episode (\d+)/i,"$1").replace(/ \u2013 $/,""),number:t=>{const e=t.replace("VOSTFR","").match(/(.*) Episode (\d+)/i);return(null==e?void 0:e.length)?+e[2]:1},date:t=>{var e;let s=t.replace("Ajout\xe9 le ","").toLowerCase();return s=s.replace(new RegExp("^("+o.F3.join("|")+")","g"),""),s=s.replace(new RegExp("("+Object.keys(o.ty).join("|")+")","g"),m=>o.ty[m]).trim(),s=s.split(" ").reverse().join("-"),null===(e=new Date(s))||void 0===e?void 0:e.getTime()}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#main .loop > article",{anime:{title:"div > a > span | title",cover:"div img@src | concatUrl"},number:"div > a > span | number",streamLinks:[{url:"div > a@href",lang:"| subtitles"}],releaseDate:".entry-meta > span > small | date"},this.filters)}},class b extends h{constructor(r){super("MavAnimes","http://www.mavanimes.co","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{cover:t=>-1!==t.indexOf(",")?t.split(",")[0].replace(/ (\d+\w)$/,""):t.replace("-300x169",""),number:t=>{const e=t.replace("VOSTFR","").match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1},title:t=>t.replace("VOSTFR","").replace(/(.*) (\d+)/,"$1").replace(/ \u2013 $/,"")})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"div.animes-grid div.grid-item > div",{anime:{title:"p | title",cover:"img.wp-post-image@srcset,src,data-cfsrc | cover"},number:"p | number",streamLinks:[{url:"a@href",lang:"| subtitles"}]},this.filters)}},class i extends h{constructor(r){super("OtakuFr","https://otakufr.co","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>{const e=t.trim().match(/(.*) (\d+) vostfr(?:.*)$/i);return(null==e?void 0:e.length)?e[1].trim():t},number:t=>{const e=t.trim().match(/(\d+) vostfr(?:.*)$/i);return v((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>(null==t?void 0:t.length)?t.toLowerCase().trim():"vostfr",date:t=>{var e;let s=t.toLowerCase();return s=s.replace(new RegExp("^("+o.F3.join("|")+")","g"),""),s=s.replace(new RegExp("("+Object.keys(o.ty).join("|")+")","g"),m=>o.ty[m]).trim(),s=s.split(" ").reverse().join("-"),null===(e=new Date(s))||void 0===e?void 0:e.getTime()}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,".section-1 > article.episode",{anime:{title:"a.episode-link | title",cover:"figure img@src"},number:"a.episode-link | number",streamLinks:[{url:"a.episode-link@href",lang:".traduction | subtitles"}],releaseDate:":prev div.title | date"},this.filters)}},class A extends h{constructor(r){super("VostFree","https://vostfree.com","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.replace(/ VOSTFR(?:.*)$/,""),cover:t=>this.filters.concatUrl(t),date:t=>{var e;let s=t.toLowerCase();if(-1!==s.indexOf("aujourd'hui"))return(0,o.Lg)();if(-1!==s.indexOf("hier"))return(0,o.Cv)();{const m=s.split(",");return s=m[0].split("-").reverse().join("-")+m[1],null===(e=new Date(s.replace(",","")))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/animes-vostfr`,"#content div.movie-poster",{anime:{title:".info .title | title",cover:".image img@src,data-cfsrc | cover",isNew:".anime-new | boolean",isFinished:".anime-fin | boolean"},number:".alt .year b | number",streamLinks:[{url:".play a.link@href",lang:".quality"}],releaseDate:".info ul.additional li.type:first-child a | date"},this.filters)}},class Q extends h{constructor(r){super("Mangas-vostfr","https://mangas-vostfr.com","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.replace("Vostfr","").match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1},title:t=>t.replace("Vostfr","").replace(/(.*) (\d+)/,"$1").trim(),date:t=>{var e;let s=t.toLowerCase();return s=s.replace(new RegExp("("+Object.keys(o.ty).join("|")+")","g"),m=>o.ty[m]).trim(),s=s.split(" ").reverse().join("-"),null===(e=new Date(s))||void 0===e?void 0:e.getTime()}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#content_box > article",{anime:{title:"h2.title a | title",cover:".featured-thumbnail img@data-lazy-src,src"},number:"h2.title a | number",streamLinks:[{url:"h2.title a@href",lang:"| subtitles"}],releaseDate:".post-info .date span | date"},this.filters)}},class a extends h{constructor(r){super("ToonAnime","https://wvvw.toonanime.tv","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.replace(/vostfr/i,"").trim(),number:t=>{const e=t.match(/EP (\d+)/);return v((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>(null==t?void 0:t.length)?t.toLowerCase().trim():"vostfr"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/anime-vostfr/`,"#dle-content > article",{anime:{title:"footer > div.short__story-title | title",cover:"img@data-src,src | concatUrl"},number:".progress__box > div | number",streamLinks:[{url:"a@href",lang:".label__rate | subtitles"}]},this.filters)}},class I extends h{constructor(r){super("AnimeMax","https://anime-max.co","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>{const e=t.trim().match(/(.*) (vostfr|vf)(?:.*)$/i);return(null==e?void 0:e.length)?e[1].trim():t},subtitles:t=>t?t.toLowerCase():"vostfr"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/animes-vostfr/`,"section#grid > div > article",{anime:{title:".short-title > h2 | title",cover:".short-img img@src | concatUrl"},number:".short-meta.sl-g | number",streamLinks:[{url:"a.short-title@href | concatUrl",lang:".b-rate > h3 > a | subtitles"}]},this.filters)}}],vosten:[class F extends h{constructor(r){super("GogoPlay","https://gogoplay1.com","vosten"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>{const e=t.match(/(.*) Episode (\d+)/);return(null==e?void 0:e.length)?e[1].trim():t},number:t=>{const e=t.match(/Episode (\d+)/);return v((null==e?void 0:e.length)?e[1]:t)},date:t=>{var e;if(-1!==t.indexOf("mins ago")||-1!==t.indexOf("hours ago"))return(0,o.Lg)();if(-1!==t.indexOf("1 day ago"))return(0,o.Cv)();{const s=t.match(/(\d+) days ago/);return(null==s?void 0:s.length)?(0,o.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"ul.listing.items > li",{anime:{title:".name | title",cover:".picture img@src"},number:".name | number",streamLinks:[{url:"a@href | concatUrl",lang:"| subtitles"}],releaseDate:".meta > .date | date"},this.filters)}},class K extends h{constructor(r){super("Animension","https://animension.to","vosten"),this.scraper=r}_getLatestEpisodes(){return this.scraper.getJSON(`${this.baseUrl}/public-api/index.php?page=1&mode=sub`).pipe((0,y.U)(r=>{const t=[];try{(0,z.k)(r)&&r.forEach(e=>{const[s,m,B,H,Y,Z]=e;t.push({anime:{title:s,cover:Y},number:H,streamLinks:[{url:this.filters.concatUrl(`${m}`),lang:"vosten"}],releaseDate:1e3*Z})})}catch(e){console.error(`${this.name}: ${e.message}`)}return t}))}},class k extends h{constructor(r){super("YugenAnime","https://yugen.to","vosten"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{cover:t=>{const e=t.trim().match(/this\.src='(.*)'$/i);return(null==e?void 0:e.length)?e[1]:t},number:t=>{const e=t.trim().match(/(\d+) (?:.*)$/i);return v((null==e?void 0:e.length)?e[1]:t)}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/latest`,"section ul.ep-grid li.ep-card",{anime:{title:"a.ep-details .ep-origin-name",cover:"a.ep-thumbnail img@onerror,data-src,src | cover"},number:"a.ep-title | number",streamLinks:[{url:"a.ep-thumbnail@href | concatUrl",lang:"| subtitles"}],releaseDate:"a.ep-details .ep-statistics time@datetime | date"},this.filters)}},class f extends h{constructor(r){super("AnimixPlay","https://animixplay.to","vosten"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/EP (\d+)/);return v((null==e?void 0:e.length)?e[1]:t)},date:t=>{var e;if(-1!==t.indexOf("mins ago")||-1!==t.indexOf("hours ago"))return(0,o.Lg)();if(-1!==t.indexOf("1 day ago"))return(0,o.Cv)();{const s=t.match(/(\d+) days ago/);return(null==s?void 0:s.length)?(0,o.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#resultplace ul li",{anime:{title:"a .details .name",cover:"a img.resultimg@src"},number:"a .details .infotext | number",streamLinks:[{url:"a@href | concatUrl",lang:"| subtitles"}],releaseDate:"a .timetext | date"},this.filters)}},class G extends h{constructor(r){super("AnimeDao","https://animedao.to","vosten"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/Episode (\d+)/);return v((null==e?void 0:e.length)?e[1]:t)},date:t=>{var e;if(-1!==t.indexOf("mins ago")||-1!==t.indexOf("hours ago"))return(0,o.Lg)();if(-1!==t.indexOf("1 day ago"))return(0,o.Cv)();{const s=t.match(/(\d+) days ago/);return(null==s?void 0:s.length)?(0,o.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"div#latest-tab-pane > div.row > div",{anime:{title:"div.animeinfo span.animename",cover:"div.animeposter img@data-src,src | concatUrl"},number:"div.animeinfo .animetitle > .ep | number",streamLinks:[{url:"div.animeinfo > a@href | concatUrl",lang:"| subtitles"}],releaseDate:"span.date | date"},this.filters)}},class T extends h{constructor(r){super("GogoAnime","https://gogoanime.gg","vosten"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/Episode (\d+)/);return v((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>-1!==(null==t?void 0:t.indexOf("ic-DUB"))?"dub":"vosten"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,".last_episodes ul li",{anime:{title:"p.name a",cover:"div.img img@src"},number:"p.episode | number",streamLinks:[{url:"p.name a@href | concatUrl",lang:".type@class | subtitles"}]},this.filters)}},class N extends h{constructor(r){super("9Anime","https://9anime.id","vosten"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/Ep (\d+)/i);return v((null==e?void 0:e.length)?e[1]:t)},url:(t,e)=>{const s=this.scraper.htmlParser.find(e,"div.meta .ep-status.sub > span | number",this.filters);return`${this.filters.concatUrl(t)}/ep-${s||1}`}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/updated`,"div#list-items > .item",{anime:{title:"a.name",cover:".poster img@src"},number:"div.meta .ep-status.sub > span | number",streamLinks:[{url:"a.name@href | url",lang:"| subtitles"}]},this.filters)}}],vostar:[class u extends h{constructor(r){super("WitAnime","https://witanime.com","vostar"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"body > div.page-content-container:not(.content) .episodes-list-content .episodes-card-container",{anime:{title:".ep-card-anime-title > h3 > a",cover:".episodes-card > div > img@src"},number:".episodes-card-title > h3 > a | number",streamLinks:[{url:".episodes-card > div > a@href | decodeUrl",lang:"| subtitles"}]},this.filters)}},class P extends h{constructor(r){super("Anime4up","https://w1.anime4up.com","vostar"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,["body > div:nth-child(6).page-content-container .episodes-list-content .episodes-card-container","body > div:nth-child(8).page-content-container .episodes-list-content .episodes-card-container"],{anime:{title:".ep-card-anime-title > h3 > a",cover:".episodes-card > div > img@src"},number:".episodes-card-title > h3 > a | number",streamLinks:[{url:".episodes-card > div > a@href | decodeUrl",lang:"| subtitles"}]},this.filters)}},class g extends h{constructor(r){super("ArabAnime","https://www.arabanime.net","vostar"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"section#specials > .container > .row > .col-6",{anime:{title:"a.as-info@title | trim",cover:"img.img-fluid@src"},number:"a.as-info > h3 > span | number",streamLinks:[{url:"a.as-info@href | concatUrl",lang:"| subtitles"}]},this.filters)}},class $ extends h{constructor(r){super("AddAnime","https://ar.addanime.online","vostar"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.split("|")[0].trim(),number:t=>{const e=t.match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/episode`,"body > .container > .anime-list-content > .row > div",{anime:{title:".anime-card-details > .anime-card-title@title | title",cover:".anime-card-poster img@src"},number:".anime-card-poster .episodes-card-title > h3 > a | number",streamLinks:[{url:".anime-card-poster .episodes-card-title > h3 > a@href | decodeUrl",lang:"| subtitles"}]},this.filters)}},class n extends h{constructor(r){super("OKanime","https://okanime.tv","vostar"),this.scraper=r}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/dashboard/newest_episodes`,".latest-episodes > div.row > .item",{anime:{title:"span.video-title",cover:".batnie-image img@data-src | concatUrl"},number:"span.video-subtitle span | number",streamLinks:[{url:"a@href | concatUrl",lang:"| subtitles"}]},this.filters)}}]},x=Object.keys(E).reduce((d,r)=>[...d,...E[r]],[]);var L=l(1223),C=l(8798),R=l(452);let J=(()=>{class d{constructor(t,e){this.scraper=t,this.settings=e,this.crawlers=[];for(const s of x)this.add(new s(this.scraper));this.update()}update(){this.crawlers.forEach(t=>{t.isActive=-1===this.settings.inactiveCrawlers.indexOf(t.name)})}add(t){this.crawlers.push(t)}remove(t){this.crawlers=this.crawlers.filter(e=>e.name!==t.name)}get(...t){return this.crawlers.filter(e=>-1!==t.indexOf(e.name))}getAll(t=!1){return t&&this.update(),this.crawlers}getAllExcept(...t){return this.crawlers.filter(e=>-1===t.indexOf(e.name))}getActive(t=!1){return t&&this.update(),this.crawlers.filter(e=>e.isActive)}get count(){return this.getAll().length}get activeCount(){return this.getActive().length}}return d.\u0275fac=function(t){return new(t||d)(L.LFG(C.V),L.LFG(R.g))},d.\u0275prov=L.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},8798:(W,S,l)=>{l.d(S,{V:()=>Q});var j=l(655),y=l(9646),o=l(1566),U=l(1165),v=l(4482),D=l(8421),w=l(3888),h=l(5403),$=l(9672);const P=(0,w.d)(b=>function(i=null){b(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=i});function n(b){throw new P(b)}var u=l(4004),f=l(262),T=l(5012),F=l(3111),k=l(1223),z=l(520),K=l(4056),N=l(6622);let G=(()=>{class b{constructor(){this.parser=new DOMParser}fromString(i){return this.parser.parseFromString(i,"text/html")}parse(i,a,c,p){let A=[];const M=this.fromString(i),_=(0,N.k)(a)?a.join(", "):a;return M.querySelectorAll(_).forEach(I=>{const O={};Object.keys(c).forEach(E=>{(0,K.HD)(c[E])?O[E]=this.find(I,c[E],p):(0,N.k)(c[E])?(O[E]=[],c[E].forEach(x=>{if((0,K.HD)(x))O[E].push(this.find(I,x,p));else{let L={};Object.keys(x).forEach(C=>{L[C]=this.parseSelector(I,x[C],p)}),O[E].push(L)}})):(O[E]={},Object.keys(c[E]).forEach(x=>{O[E][x]=this.parseSelector(I,c[E][x],p)}))}),A.push(O)}),A}parseSelector(i,a,c){if(!(0,N.k)(a))return this.find(i,a,c);for(const p of a){const A=this.find(i,p,c);if(A)return A}}find(i,a,c){var p,A,M,_,I,O;const E=a.split("|"),x=E[0].split("@"),L={selector:null===(p=x[0])||void 0===p?void 0:p.trim(),attributes:null===(A=x[1])||void 0===A?void 0:A.trim().split(","),filter:null===(M=E[1])||void 0===M?void 0:M.trim()};let C=null,R="";try{(null===(_=L.selector)||void 0===_?void 0:_.length)&&(C=L.selector.startsWith(":prev ")?this.getPreviousSibling(i,L.selector.replace(":prev ","")):L.selector.startsWith(":next ")?this.getNextSibling(i,L.selector.replace(":next ","")):L.selector.startsWith(":self")?i:i.querySelector(L.selector))}catch(J){console.error(J.message)}return C&&((null===(I=L.attributes)||void 0===I?void 0:I.length)?L.attributes.forEach(J=>{(null==R?void 0:R.length)||(R=C.getAttribute(J))}):R=C.innerHTML),(null===(O=L.filter)||void 0===O?void 0:O.length)&&(null==c?void 0:c[L.filter])&&(R=c[L.filter](R,i)),R}getPreviousSibling(i,a){let c=i.previousElementSibling;if(!a)return c;for(;c;){if(c.matches(a))return c;const p=c.querySelector(a);if(p)return p;c=c.previousElementSibling}return null}getNextSibling(i,a){let c=i.nextElementSibling;if(!a)return c;for(;c;){if(c.matches(a))return c;const p=c.querySelector(a);if(p)return p;c=c.nextElementSibling}return null}}return b.\u0275fac=function(i){return new(i||b)},b.\u0275prov=k.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();var X=l(452);let Q=(()=>{class b{constructor(i,a,c){this.httpClient=i,this.htmlParser=a,this.settings=c}get proxy(){return T._[this.settings.proxy.name]}scrape(i,a,c,p){return this.getResponse(i).pipe((0,u.U)(A=>this.htmlParser.parse(A,a,c,p)))}getResponse(i){var a,c;if(!this.settings.proxy.enabled)return this.getRawHTML(i);const p="json"===(null===(a=this.proxy.options)||void 0===a?void 0:a.responseType)?this.getJSON(i):this.getRawHTML(i);return(null===(c=this.proxy.options)||void 0===c?void 0:c.responseParser)?p.pipe((0,u.U)(this.proxy.options.responseParser)):p}getRawHTML(i,a){return this.get(this.resolveUrl(i),{responseType:"text",headers:this.getRequestHeaders(),timeout:a})}getJSON(i,a){return this.get(this.resolveUrl(i),{responseType:"json",headers:this.getRequestHeaders(),timeout:a})}get(i,a){const{timeout:c=3e4}=a,p=(0,j._T)(a,["timeout"]);return this.httpClient.get(i,p).pipe(function g(b,V){const{first:i,each:a,with:c=n,scheduler:p=(null!=V?V:o.z),meta:A=null}=(0,U.q)(b)?{first:b}:"number"==typeof b?{each:b}:b;if(null==i&&null==a)throw new TypeError("No timeout provided.");return(0,v.e)((M,_)=>{let I,O,E=null,x=0;const L=C=>{O=(0,$.f)(_,p,()=>{try{I.unsubscribe(),(0,D.Xf)(c({meta:A,lastValue:E,seen:x})).subscribe(_)}catch(R){_.error(R)}},C)};I=M.subscribe((0,h.x)(_,C=>{null==O||O.unsubscribe(),x++,_.next(E=C),a>0&&L(a)},void 0,void 0,()=>{(null==O?void 0:O.closed)||null==O||O.unsubscribe(),E=null})),L(null!=i?"number"==typeof i?i:+i-p.now():a)})}(c),(0,f.K)(A=>{const M=this.resolveError(A,i);return console.error(M),(0,y.of)("json"===p.responseType?{}:"")}))}resolveError(i,a){return"Timeout has occurred"===i.message?`${i.message} for ${a}`:i.message}resolveUrl(i){var a,c,p;if(!this.settings.proxy.enabled)return i;const A=this.getRequestParams({url:i}),M=(0,F.nZ)(A,null===(p=null===(c=null===(a=this.proxy.options)||void 0===a?void 0:a.paramsEncoding)||void 0===c?void 0:c.enabled)||void 0===p||p);return`${this.proxy.url}${M||i}`}getRequestParams(i){const a=this.settings.proxy.enabled?this.proxy.params:null;return a?Object.keys(a).reduce((c,p)=>Object.assign(Object.assign({},c),{[p]:this.resolveValue(a[p],i)}),{}):{}}getRequestHeaders(){const i=this.settings.proxy.enabled?this.proxy.headers:null;return i?Object.keys(i).reduce((a,c)=>Object.assign(Object.assign({},a),{[c]:this.resolveValue(i[c])}),{}):{}}resolveValue(i,a){switch(i){case"$url":return(null==a?void 0:a.url)||i;case"$hostname":return window.location.hostname;case"$apiKey":return this.settings.proxy.apiKey;default:return i}}}return b.\u0275fac=function(i){return new(i||b)(k.LFG(z.eN),k.LFG(G),k.LFG(X.g))},b.\u0275prov=k.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},4128:(W,S,l)=>{l.d(S,{D:()=>h});var j=l(8306),y=l(4742),o=l(8421),U=l(3269),v=l(5403),D=l(3268),w=l(1810);function h(...$){const P=(0,U.jO)($),{args:g,keys:n}=(0,y.D)($),u=new j.y(f=>{const{length:T}=g;if(!T)return void f.complete();const F=new Array(T);let k=T,z=T;for(let K=0;K<T;K++){let N=!1;(0,o.Xf)(g[K]).subscribe((0,v.x)(f,G=>{N||(N=!0,z--),F[K]=G},()=>k--,void 0,()=>{(!k||!N)&&(z||f.next(n?(0,w.n)(n,F):F),f.complete())}))}});return P?u.pipe((0,D.Z)(P)):u}},2805:(W,S,l)=>{l.d(S,{H:()=>v});var j=l(8306),y=l(1566),o=l(3532),U=l(1165);function v(D=0,w,h=y.P){let $=-1;return null!=w&&((0,o.K)(w)?h=w:$=w),new j.y(P=>{let g=(0,U.q)(D)?+D-h.now():D;g<0&&(g=0);let n=0;return h.schedule(function(){P.closed||(P.next(n++),0<=$?this.schedule(void 0,$):P.complete())},g)})}},1566:(W,S,l)=>{l.d(S,{P:()=>P,z:()=>$});var j=l(727);class y extends j.w0{constructor(n,u){super()}schedule(n,u=0){return this}}const o={setInterval(...g){const{delegate:n}=o;return((null==n?void 0:n.setInterval)||setInterval)(...g)},clearInterval(g){const{delegate:n}=o;return((null==n?void 0:n.clearInterval)||clearInterval)(g)},delegate:void 0};var U=l(8737);const D={now:()=>(D.delegate||Date).now(),delegate:void 0};class w{constructor(n,u=w.now){this.schedulerActionCtor=n,this.now=u}schedule(n,u=0,f){return new this.schedulerActionCtor(this,n).schedule(f,u)}}w.now=D.now;const $=new class h extends w{constructor(n,u=w.now){super(n,u),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:u}=this;if(this._active)return void u.push(n);let f;this._active=!0;do{if(f=n.execute(n.state,n.delay))break}while(n=u.shift());if(this._active=!1,f){for(;n=u.shift();)n.unsubscribe();throw f}}}(class v extends y{constructor(n,u){super(n,u),this.scheduler=n,this.work=u,this.pending=!1}schedule(n,u=0){if(this.closed)return this;this.state=n;const f=this.id,T=this.scheduler;return null!=f&&(this.id=this.recycleAsyncId(T,f,u)),this.pending=!0,this.delay=u,this.id=this.id||this.requestAsyncId(T,this.id,u),this}requestAsyncId(n,u,f=0){return o.setInterval(n.flush.bind(n,this),f)}recycleAsyncId(n,u,f=0){if(null!=f&&this.delay===f&&!1===this.pending)return u;o.clearInterval(u)}execute(n,u){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const f=this._execute(n,u);if(f)return f;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,u){let T,f=!1;try{this.work(n)}catch(F){f=!0,T=F||new Error("Scheduled action threw falsy error")}if(f)return this.unsubscribe(),T}unsubscribe(){if(!this.closed){const{id:n,scheduler:u}=this,{actions:f}=u;this.work=this.state=this.scheduler=null,this.pending=!1,(0,U.P)(f,this),null!=n&&(this.id=this.recycleAsyncId(u,n,null)),this.delay=null,super.unsubscribe()}}}),P=$},1165:(W,S,l)=>{function j(y){return y instanceof Date&&!isNaN(y)}l.d(S,{q:()=>j})}}]);