"use strict";(self.webpackChunkanime_tracker=self.webpackChunkanime_tracker||[]).push([[728],{6622:(z,$,a)=>{a.d($,{x:()=>A,k:()=>w});const A=function(l,j=[]){for(let p=0,U=l.length;p<U;p++){const E=l[p];w(E)?A(E,j):j.push(E)}return j};function w(l){return Array.isArray(l)||l instanceof Array}},3470:(z,$,a)=>{a.d($,{F3:()=>w,ty:()=>l,zO:()=>j,hp:()=>p,Lg:()=>U,Cv:()=>E,m8:()=>d,GW:()=>S,zu:()=>P});const w=["lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche"],l={janvier:1,f\u00e9vrier:2,mars:3,avril:4,mai:5,juin:6,juillet:7,ao\u00fbt:8,septembre:9,octobre:10,novembre:11,d\u00e9cembre:12},j=()=>new Date,p=f=>f.setHours(0,0,0,0),U=(f=!1)=>{const n=j();return f?n.toISOString().slice(0,10):p(n)},E=(f=!1)=>d(1,f),d=(f,n=!1)=>{const h=new Date(j().getTime()-864e5*f);return n?h.toISOString().slice(0,10):p(h)},S=f=>{const n=j();return p(n)===p(f)},P=(f,n)=>p(new Date(f))===p(new Date(n))},2932:(z,$,a)=>{a.d($,{K:()=>q});var A=a(9646),w=a(4004),l=a(3470);function p(u,r=1){return+u||r}var U=a(4056);class d extends class E{constructor(r,t,e){this.filters={},this.cache={animeList:[],latestEpisodes:[]},this._name=r,this._baseUrl=t,this._isActive=!0,this._defaultSubtitles=e,this.filters={number:s=>p(s),boolean:s=>!!(null==s?void 0:s.length),trim:s=>s.trim(),capitalize:s=>(0,U.kC)(s),decodeUrl:s=>decodeURI(s),encodeUrl:s=>encodeURI(s),concatUrl:s=>/^https?:\/\//.test(s)?s:`${this.baseUrl.replace(/\/$/,"")}/${null==s?void 0:s.replace(/^\//,"")}`,concatProtocol:s=>/^https?:\/\//.test(s)?s:`https://${null==s?void 0:s.replace(/^\/+/,"")}`,date:s=>{var m;const N=null===(m=new Date(s))||void 0===m?void 0:m.getTime(),W=(0,l.zO)().getTime();return N>W?W:N},subtitles:s=>e}}get name(){return this._name}get baseUrl(){return this._baseUrl}get subtitles(){return this._defaultSubtitles}get isActive(){return this._isActive}set isActive(r){this._isActive=r}getAnimeList(r=!1){return this.cache.animeList.length>0&&!r?(0,A.of)(this.cache.animeList):this._getAnimeList().pipe((0,w.U)(t=>(this.cache.animeList=t,t)))}getAnimeInfo(r){return this._getAnimeInfo(r).pipe((0,w.U)(t=>(t&&(t.link=r),t)))}getEpisodes(r){return this._getEpisodes(r)}getLatestEpisodes(r=!1){return this.cache.latestEpisodes.length>0&&!r?(0,A.of)(this.cache.latestEpisodes):this._getLatestEpisodes().pipe((0,w.U)(t=>{const e=t.map(s=>Object.assign(Object.assign({},s),{anime:Object.assign(Object.assign({},s.anime),{title:s.anime.title.trim()}),fetchingDate:(new Date).getTime(),releaseDate:s.releaseDate||(0,l.Lg)(),hasTemporaryReleaseDate:!s.releaseDate}));return this.cache.latestEpisodes=e,e}))}searchAnime(r){return this._getAnimeList().pipe((0,w.U)(t=>t.filter(s=>-1!==s.title.toLowerCase().indexOf(r.toLowerCase()))||[]))}}{_getAnimeList(r=!1){return(0,A.of)([])}_getAnimeInfo(r){return(0,A.of)()}_getEpisodes(r){return(0,A.of)([])}}const L={vostfr:[class K extends d{constructor(r){super("AnimeKo","https://animeko.co","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{cover:t=>{const e=t.replace("/small","");return this.filters.concatUrl(e)},date:t=>{var e;let s=t.toLowerCase();return-1!==s.indexOf("aujourd'hui")?(0,l.Lg)():-1!==s.indexOf("hier")?(0,l.Cv)():(s=s.replace(new RegExp("^("+l.F3.join("|")+")","g"),""),s=s.replace(new RegExp("("+Object.keys(l.ty).join("|")+")","g"),m=>l.ty[m]).trim(),s=s.split(" ").reverse().join("-"),null===(e=new Date(s))||void 0===e?void 0:e.getTime())}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/dernieres-sorties`,".releases ul li.small-card",{anime:{title:"h2 a",cover:"img@data-src | cover",isNew:".badge-status.new | boolean",isFinished:".badge-status.end | boolean",isMovie:".badge-type.movie | boolean"},number:"span.badge-number | number",streamLinks:[{url:"h2 a@href | concatUrl",lang:"| subtitles"}],releaseDate:":prev div .untitle | date"},this.filters)}},class b extends d{constructor(r){super("Neko-sama","https://www.neko-sama.fr","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/Ep. (\d+)/);return p((null==e?void 0:e.length)?e[1]:t)},date:t=>{var e;if(-1!==t.indexOf("minute")||-1!==t.indexOf("heure"))return(0,l.Lg)();if(-1!==t.indexOf("il y a 1 jour"))return(0,l.Cv)();{const s=t.match(/il y a (\d+) jours/);return(null==s?void 0:s.length)?(0,l.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.getRawHTML(this.baseUrl).pipe((0,w.U)(r=>{const t=r.match(/lastEpisodes = \[(.*)\]/),e=[];if(null==t?void 0:t.length)try{JSON.parse(`[${t[1]}]`).forEach(m=>{e.push({anime:{title:m.title,cover:m.url_image},number:this.filters.number(m.episode),streamLinks:[{url:this.filters.concatUrl(m.url),lang:"vostfr"}],releaseDate:this.filters.date(m.time)})})}catch(s){console.error(s.message)}return e}))}},class c extends d{constructor(r){super("VoirAnime","https://voiranime.com","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{cover:t=>t.replace("-110x150",""),date:t=>{var e;if(-1!==t.indexOf("mins ago")||-1!==t.indexOf("hours ago"))return(0,l.Lg)();if(-1!==t.indexOf("1 day ago"))return(0,l.Cv)();{const s=t.match(/(\d+) days ago/);return(null==s?void 0:s.length)?(0,l.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/?filter=subbed`,"#loop-content .page-item-detail",{anime:{title:".post-title h3 a",cover:"img.img-responsive@src | cover"},number:".chapter-item:first-child .chapter a | number",streamLinks:[{url:[".chapter-item:first-child .chapter a@href",".post-title h3 a@href"],lang:"| subtitles"}],releaseDate:".chapter-item:first-child .post-on | date"},this.filters)}},class o extends d{constructor(r){super("VoirAnime.org","https://voiranime.org","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>{const e=t.trim().match(/(.*) (\u2013|\xe9pisode) (\d+) (vostfr|vf)(?:.*)$/i);return(null==e?void 0:e.length)?e[1].trim():t},number:t=>{const e=t.trim().match(/(\d+) (vostfr|vf)(?:.*)$/i);return p((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>{const e=t.trim().match(/(vostfr|vf)(?:.*)$/i);return(null==e?void 0:e.length)?e[1]:"vostfr"}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#content .video-item",{anime:{title:".item-head > h3 > a | title",cover:".item-thumbnail img@data-src,src"},number:".item-head > h3 > a | number",streamLinks:[{url:".item-head > h3 > a@href",lang:".item-head > h3 > a | subtitles"}]},this.filters)}},class M extends d{constructor(r){super("VostAnimez","https://vostanimez.com","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.replace(/(.*) \(([A-Za-z]+)\)$/i,"$1"),number:t=>{const e=t.match(/(.*) episode (\d+)/i);return(null==e?void 0:e.length)?+e[2]:1},subtitles:t=>{const e=t.match(/(.*) \(([A-Za-z]+)\)$/i);return(null==e?void 0:e.length)?e[2].toLowerCase():"vostfr"}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/liste-des-episodes/`,"section ul.Episodes > li",{anime:{title:".Title | title",cover:".Image img@src | concatProtocol"},number:".ClB | number",streamLinks:[{url:"article > a@href",lang:".Title | subtitles"}],releaseDate:".Year | date"},this.filters)}},class R extends d{constructor(r){super("WawAnimes","https://wawanimes.tv","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.replace(/(.*) \(([A-Za-z]+)\)$/i,"$1"),number:t=>{const e=t.match(/(.*) episode (\d+)/i);return(null==e?void 0:e.length)?+e[2]:1},subtitles:t=>{const e=t.match(/(.*) \(([A-Za-z]+)\)$/i);return(null==e?void 0:e.length)?e[2].toLowerCase():"vostfr"}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/liste-des-episodes/`,"section ul.Episodes > li",{anime:{title:".Title | title",cover:".Image img@src | concatProtocol"},number:".ClB | number",streamLinks:[{url:"article > a@href",lang:".Title | subtitles"}],releaseDate:".Year | date"},this.filters)}},class O extends d{constructor(r){super("JetAnimes","https://www.jetanimes.com","vostfr"),this.scraper=r;const t=this.filters.date;this.filters=Object.assign(Object.assign({},this.filters),{title:(e,s)=>{var m;if(e)return e;const W=s.querySelector(".data > h3 > a").getAttribute("href"),Y=W.split("/"),Z=null===(m=Y[Y.length-2])||void 0===m?void 0:m.split("-").join(" ").replace(/saison \d+|episode \d+/gi,"").trim();return Z?this.filters.capitalize(Z):W},number:(e,s)=>{let m=e.match(/E(\d+)/i);return(null==m?void 0:m.length)?+m[1]:(m=s.querySelector(".data > h3 > a").getAttribute("href").match(/episode-(\d+)/i),(null==m?void 0:m.length)?+m[1]:1)},subtitles:e=>{const s=e.match(/HD ([A-Za-z]+)$/i);return(null==s?void 0:s.length)?s[1].toLowerCase():"vostfr"},date:e=>{var s;const N=null===(s=e.split("/")[1])||void 0===s?void 0:s.replace(".","").trim();return t(N)}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/episodes/`,"#archive-content > article",{anime:{title:".data .serie | title",cover:".poster img@src"},number:".data > span:first-of-type | number",streamLinks:[{url:".data > h3 > a@href",lang:".poster .quality | subtitles"}],releaseDate:".data > span:first-of-type | date"},this.filters)}},class y extends d{constructor(r){super("AnimeComplet","https://animecomplet.me","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.replace(/vostfr/i,"").trim(),number:t=>{const e=t.match(/Episode (\d+)/i);return(null==e?void 0:e.length)?+e[1]:1},subtitles:t=>{const e=t.match(/Episode (?:\d+) ([A-Za-z]+)$/i);return(null==e?void 0:e.length)?e[1].toLowerCase():"vostfr"},date:t=>{var e;let s=t.toLowerCase();return s=s.replace(new RegExp("("+Object.keys(l.ty).join("|")+")","g"),m=>l.ty[m]).trim(),s=s.split(" ").reverse().join("-"),null===(e=new Date(s))||void 0===e?void 0:e.getTime()}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"ul.recent-posts > li",{anime:{title:".post-content .meta-category > a | title",cover:".post-thumb img@src | concatUrl"},number:".post-content > h2 > a | number",streamLinks:[{url:".post-content > h2 > a@href",lang:".post-content > h2 > a | subtitles"}],releaseDate:".post-content .meta-date | date"},this.filters)}},class k extends d{constructor(r){super("11Anim","https://11anim.net","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.replace("VOSTFR","").replace(/(.*) Episode (\d+)/i,"$1").replace(/ \u2013 $/,""),number:t=>{const e=t.replace("VOSTFR","").match(/(.*) Episode (\d+)/i);return(null==e?void 0:e.length)?+e[2]:1},date:t=>{var e;let s=t.replace("Ajout\xe9 le ","").toLowerCase();return s=s.replace(new RegExp("^("+l.F3.join("|")+")","g"),""),s=s.replace(new RegExp("("+Object.keys(l.ty).join("|")+")","g"),m=>l.ty[m]).trim(),s=s.split(" ").reverse().join("-"),null===(e=new Date(s))||void 0===e?void 0:e.getTime()}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#main .loop > article",{anime:{title:"div > a > span | title",cover:"div img@src | concatUrl"},number:"div > a > span | number",streamLinks:[{url:"div > a@href",lang:"| subtitles"}],releaseDate:".entry-meta > span > small | date"},this.filters)}},class X extends d{constructor(r){super("MavAnimes","http://www.mavanimes.co","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{cover:t=>-1!==t.indexOf(",")?t.split(",")[0].replace(/ (\d+\w)$/,""):t.replace("-300x169",""),number:t=>{const e=t.replace("VOSTFR","").match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1},title:t=>t.replace("VOSTFR","").replace(/(.*) (\d+)/,"$1").replace(/ \u2013 $/,"")})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"div.animes-grid div.grid-item > div",{anime:{title:"p | title",cover:"img.wp-post-image@srcset,src,data-cfsrc | cover"},number:"p | number",streamLinks:[{url:"a@href",lang:"| subtitles"}]},this.filters)}},class V extends d{constructor(r){super("OtakuFr","https://otakufr.co","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>{const e=t.trim().match(/(.*) (\d+) vostfr(?:.*)$/i);return(null==e?void 0:e.length)?e[1].trim():t},number:t=>{const e=t.trim().match(/(\d+) vostfr(?:.*)$/i);return p((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>(null==t?void 0:t.length)?t.toLowerCase().trim():"vostfr",date:t=>{var e;let s=t.toLowerCase();return s=s.replace(new RegExp("^("+l.F3.join("|")+")","g"),""),s=s.replace(new RegExp("("+Object.keys(l.ty).join("|")+")","g"),m=>l.ty[m]).trim(),s=s.split(" ").reverse().join("-"),null===(e=new Date(s))||void 0===e?void 0:e.getTime()}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,".section-1 > article.episode",{anime:{title:"a.episode-link | title",cover:"figure img@src"},number:"a.episode-link | number",streamLinks:[{url:"a.episode-link@href",lang:".traduction | subtitles"}],releaseDate:":prev div.title | date"},this.filters)}},class g extends d{constructor(r){super("VostFree","https://vostfree.com","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.replace(/ VOSTFR(?:.*)$/,""),cover:t=>this.filters.concatUrl(t),date:t=>{var e;let s=t.toLowerCase();if(-1!==s.indexOf("aujourd'hui"))return(0,l.Lg)();if(-1!==s.indexOf("hier"))return(0,l.Cv)();{const m=s.split(",");return s=m[0].split("-").reverse().join("-")+m[1],null===(e=new Date(s.replace(",","")))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/animes-vostfr`,"#content div.movie-poster",{anime:{title:".info .title | title",cover:".image img@src,data-cfsrc | cover",isNew:".anime-new | boolean",isFinished:".anime-fin | boolean"},number:".alt .year b | number",streamLinks:[{url:".play a.link@href",lang:".quality"}],releaseDate:".info ul.additional li.type:first-child a | date"},this.filters)}},class G extends d{constructor(r){super("Mangas-vostfr","https://mangas-vostfr.com","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.replace("Vostfr","").match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1},title:t=>t.replace("Vostfr","").replace(/(.*) (\d+)/,"$1").trim(),date:t=>{var e;let s=t.toLowerCase();return s=s.replace(new RegExp("("+Object.keys(l.ty).join("|")+")","g"),m=>l.ty[m]).trim(),s=s.split(" ").reverse().join("-"),null===(e=new Date(s))||void 0===e?void 0:e.getTime()}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#content_box > article",{anime:{title:"h2.title a | title",cover:".featured-thumbnail img@data-lazy-src,src"},number:"h2.title a | number",streamLinks:[{url:"h2.title a@href",lang:"| subtitles"}],releaseDate:".post-info .date span | date"},this.filters)}},class C extends d{constructor(r){super("WacVostfr","https://wacvostfr.com","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>{const e=t.trim().match(/(.*) (\u2013|\xe9pisode) (\d+) (vostfr|vf)(?:.*)$/i);return(null==e?void 0:e.length)?e[1].trim():t},number:t=>{const e=t.trim().match(/(\d+) (vostfr|vf)(?:.*)$/i);return p((null==e?void 0:e.length)?e[1]:t)},cover:t=>{const e=this.filters.title(t);return this.filters.concatUrl(`/imgs/animes/${(0,U.lV)(e,"-")}.jpg`)},subtitles:t=>{const e=t.trim().match(/(vostfr|vf)(?:.*)$/i);return(null==e?void 0:e.length)?e[1]:"vostfr"}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#posts-list + .card.mt-4 ul > a",{anime:{title:":self | title",cover:":self | cover"},number:":self | number",streamLinks:[{url:":self@href | concatUrl",lang:":self | subtitles"}]},this.filters)}},class i extends d{constructor(r){super("ToonAnime","https://wvvw.toonanime.tv","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.replace(/vostfr/i,"").trim(),number:t=>{const e=t.match(/EP (\d+)/);return p((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>(null==t?void 0:t.length)?t.toLowerCase().trim():"vostfr"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/anime-vostfr/`,"#dle-content > article",{anime:{title:"footer > div.short__story-title | title",cover:"img@data-src,src | concatUrl"},number:".progress__box > div | number",streamLinks:[{url:"a@href",lang:".label__rate | subtitles"}]},this.filters)}},class x extends d{constructor(r){super("AnimeMax","https://anime-max.co","vostfr"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>{const e=t.trim().match(/(.*) (vostfr|vf)(?:.*)$/i);return(null==e?void 0:e.length)?e[1].trim():t},subtitles:t=>t?t.toLowerCase():"vostfr"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/animes-vostfr/`,"section#grid > div > article",{anime:{title:".short-title > h2 | title",cover:".short-img img@src | concatUrl"},number:".short-meta.sl-g | number",streamLinks:[{url:"a.short-title@href | concatUrl",lang:".b-rate > h3 > a | subtitles"}]},this.filters)}}],vosten:[class _ extends d{constructor(r){super("GogoPlay","https://gogoplay1.com","vosten"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>{const e=t.match(/(.*) Episode (\d+)/);return(null==e?void 0:e.length)?e[1].trim():t},number:t=>{const e=t.match(/Episode (\d+)/);return p((null==e?void 0:e.length)?e[1]:t)},date:t=>{var e;if(-1!==t.indexOf("mins ago")||-1!==t.indexOf("hours ago"))return(0,l.Lg)();if(-1!==t.indexOf("1 day ago"))return(0,l.Cv)();{const s=t.match(/(\d+) days ago/);return(null==s?void 0:s.length)?(0,l.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"ul.listing.items > li",{anime:{title:".name | title",cover:".picture img@src"},number:".name | number",streamLinks:[{url:"a@href | concatUrl",lang:"| subtitles"}],releaseDate:".meta > .date | date"},this.filters)}},class H extends d{constructor(r){super("Animension","https://animension.to","vosten"),this.scraper=r}_getLatestEpisodes(){return this.scraper.getJSON(`${this.baseUrl}/public-api/index.php?page=1&mode=sub`).pipe((0,w.U)(r=>{const t=[];try{r.forEach(e=>{const[s,m,N,W,Y,Z]=e;t.push({anime:{title:s,cover:Y},number:W,streamLinks:[{url:this.filters.concatUrl(`${m}`),lang:"vosten"}],releaseDate:1e3*Z})})}catch(e){console.error(`${this.constructor.name}: ${e.message}`)}return t}))}},class B extends d{constructor(r){super("YugenAnime","https://yugen.to","vosten"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{cover:t=>{const e=t.trim().match(/this\.src='(.*)'$/i);return(null==e?void 0:e.length)?e[1]:t},number:t=>{const e=t.trim().match(/(\d+) (?:.*)$/i);return p((null==e?void 0:e.length)?e[1]:t)}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/latest`,"section ul.ep-grid li.ep-card",{anime:{title:"a.ep-details .ep-origin-name",cover:"a.ep-thumbnail img@onerror,data-src,src | cover"},number:"a.ep-title | number",streamLinks:[{url:"a.ep-thumbnail@href | concatUrl",lang:"| subtitles"}],releaseDate:"a.ep-details .ep-statistics time@datetime | date"},this.filters)}},class v extends d{constructor(r){super("AnimixPlay","https://animixplay.to","vosten"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/EP (\d+)/);return p((null==e?void 0:e.length)?e[1]:t)},date:t=>{var e;if(-1!==t.indexOf("mins ago")||-1!==t.indexOf("hours ago"))return(0,l.Lg)();if(-1!==t.indexOf("1 day ago"))return(0,l.Cv)();{const s=t.match(/(\d+) days ago/);return(null==s?void 0:s.length)?(0,l.m8)(+s[1]):null===(e=new Date(t))||void 0===e?void 0:e.getTime()}}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"#resultplace ul li",{anime:{title:"a .details .name",cover:"a img.resultimg@src"},number:"a .details .infotext | number",streamLinks:[{url:"a@href | concatUrl",lang:"| subtitles"}],releaseDate:"a .timetext | date"},this.filters)}},class T extends d{constructor(r){super("GogoAnime","https://gogoanime.gg","vosten"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/Episode (\d+)/);return p((null==e?void 0:e.length)?e[1]:t)},subtitles:t=>-1!==(null==t?void 0:t.indexOf("ic-DUB"))?"dub":"vosten"})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,".last_episodes ul li",{anime:{title:"p.name a",cover:"div.img img@src"},number:"p.episode | number",streamLinks:[{url:"p.name a@href | concatUrl",lang:".type@class | subtitles"}]},this.filters)}},class F extends d{constructor(r){super("9Anime","https://9anime.id","vosten"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/Ep (\d+)/i);return p((null==e?void 0:e.length)?e[1]:t)},url:(t,e)=>{const s=this.scraper.htmlParser.find(e,"div.tag.ep | number",this.filters);return`${this.filters.concatUrl(t)}/ep-${s}`}})}_getLatestEpisodes(){return this.scraper.scrape(encodeURI(`${this.baseUrl}/filter?status[]=airing&language[]=subbed&sort=release_date:desc`),"ul.anime-list > li",{anime:{title:"a.name",cover:"a.poster img@src"},number:"div.tag.ep | number",streamLinks:[{url:"a.name@href | url",lang:"| subtitles"}]},this.filters)}}],vostar:[class h extends d{constructor(r){super("WitAnime","https://witanime.com","vostar"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"body > div.page-content-container:not(.content) .episodes-list-content .episodes-card-container",{anime:{title:".ep-card-anime-title > h3 > a",cover:".episodes-card > div > img@src"},number:".episodes-card-title > h3 > a | number",streamLinks:[{url:".episodes-card > div > a@href | decodeUrl",lang:"| subtitles"}]},this.filters)}},class P extends d{constructor(r){super("Anime4up","https://w1.anime4up.com","vostar"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,["body > div:nth-child(6).page-content-container .episodes-list-content .episodes-card-container","body > div:nth-child(8).page-content-container .episodes-list-content .episodes-card-container"],{anime:{title:".ep-card-anime-title > h3 > a",cover:".episodes-card > div > img@src"},number:".episodes-card-title > h3 > a | number",streamLinks:[{url:".episodes-card > div > a@href | decodeUrl",lang:"| subtitles"}]},this.filters)}},class f extends d{constructor(r){super("ArabAnime","https://www.arabanime.net","vostar"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{number:t=>{const e=t.match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}`,"section#specials > .container > .row > .col-6",{anime:{title:"a.as-info@title | trim",cover:"img.img-fluid@src"},number:"a.as-info > h3 > span | number",streamLinks:[{url:"a.as-info@href | concatUrl",lang:"| subtitles"}]},this.filters)}},class S extends d{constructor(r){super("AddAnime","https://ar.addanime.online","vostar"),this.scraper=r,this.filters=Object.assign(Object.assign({},this.filters),{title:t=>t.split("|")[0].trim(),number:t=>{const e=t.match(/(.*) (\d+)/);return(null==e?void 0:e.length)?+e[2]:1}})}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/episode`,"body > .container > .anime-list-content > .row > div",{anime:{title:".anime-card-details > .anime-card-title@title | title",cover:".anime-card-poster img@src"},number:".anime-card-poster .episodes-card-title > h3 > a | number",streamLinks:[{url:".anime-card-poster .episodes-card-title > h3 > a@href | decodeUrl",lang:"| subtitles"}]},this.filters)}},class n extends d{constructor(r){super("OKanime","https://okanime.tv","vostar"),this.scraper=r}_getLatestEpisodes(){return this.scraper.scrape(`${this.baseUrl}/dashboard/newest_episodes`,".latest-episodes > div.row > .item",{anime:{title:"span.video-title",cover:".batnie-image img@data-src | concatUrl"},number:"span.video-subtitle span | number",streamLinks:[{url:"a@href | concatUrl",lang:"| subtitles"}]},this.filters)}}]},D=Object.keys(L).reduce((u,r)=>[...u,...L[r]],[]);var I=a(1223),J=a(8798),Q=a(452);let q=(()=>{class u{constructor(t,e){this.scraper=t,this.settings=e,this.crawlers=[];for(const s of D)this.add(new s(this.scraper));this.update()}update(){this.crawlers.forEach(t=>{t.isActive=-1===this.settings.inactiveCrawlers.indexOf(t.name)})}add(t){this.crawlers.push(t)}remove(t){this.crawlers=this.crawlers.filter(e=>e.name!==t.name)}get(...t){return this.crawlers.filter(e=>-1!==t.indexOf(e.name))}getAll(t=!1){return t&&this.update(),this.crawlers}getAllExcept(...t){return this.crawlers.filter(e=>-1===t.indexOf(e.name))}getActive(t=!1){return t&&this.update(),this.crawlers.filter(e=>e.isActive)}get count(){return this.getAll().length}get activeCount(){return this.getActive().length}}return u.\u0275fac=function(t){return new(t||u)(I.LFG(J.V),I.LFG(Q.g))},u.\u0275prov=I.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},8798:(z,$,a)=>{a.d($,{V:()=>X});var A=a(655),w=a(9646),l=a(1566),j=a(1165),p=a(4482),U=a(8421),E=a(3888),d=a(5403),S=a(9672);const P=(0,E.d)(b=>function(i=null){b(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=i});function n(b){throw new P(b)}var h=a(4004),v=a(262),T=a(5012),_=a(1223),B=a(520),H=a(4056),F=a(6622);let K=(()=>{class b{constructor(){this.parser=new DOMParser}fromString(i){return this.parser.parseFromString(i,"text/html")}parse(i,c,o,g){let C=[];const k=this.fromString(i),M=(0,F.k)(c)?c.join(", "):c;return k.querySelectorAll(M).forEach(R=>{const O={};Object.keys(o).forEach(y=>{(0,H.HD)(o[y])?O[y]=this.find(R,o[y],g):(0,F.k)(o[y])?(O[y]=[],o[y].forEach(x=>{if((0,H.HD)(x))O[y].push(this.find(R,x,g));else{let L={};Object.keys(x).forEach(D=>{L[D]=this.parseSelector(R,x[D],g)}),O[y].push(L)}})):(O[y]={},Object.keys(o[y]).forEach(x=>{O[y][x]=this.parseSelector(R,o[y][x],g)}))}),C.push(O)}),C}parseSelector(i,c,o){if(!(0,F.k)(c))return this.find(i,c,o);for(const g of c){const C=this.find(i,g,o);if(C)return C}}find(i,c,o){var g,C,k,M,R,O;const y=c.split("|"),x=y[0].split("@"),L={selector:null===(g=x[0])||void 0===g?void 0:g.trim(),attributes:null===(C=x[1])||void 0===C?void 0:C.trim().split(","),filter:null===(k=y[1])||void 0===k?void 0:k.trim()};let D=null,I="";try{(null===(M=L.selector)||void 0===M?void 0:M.length)&&(D=L.selector.startsWith(":prev ")?this.getPreviousSibling(i,L.selector.replace(":prev ","")):L.selector.startsWith(":next ")?this.getNextSibling(i,L.selector.replace(":next ","")):L.selector.startsWith(":self")?i:i.querySelector(L.selector))}catch(J){console.error(J.message)}return D&&((null===(R=L.attributes)||void 0===R?void 0:R.length)?L.attributes.forEach(J=>{(null==I?void 0:I.length)||(I=D.getAttribute(J))}):I=D.innerHTML),(null===(O=L.filter)||void 0===O?void 0:O.length)&&(null==o?void 0:o[L.filter])&&(I=o[L.filter](I,i)),I}getPreviousSibling(i,c){let o=i.previousElementSibling;if(!c)return o;for(;o;){if(o.matches(c))return o;const g=o.querySelector(c);if(g)return g;o=o.previousElementSibling}return null}getNextSibling(i,c){let o=i.nextElementSibling;if(!c)return o;for(;o;){if(o.matches(c))return o;const g=o.querySelector(c);if(g)return g;o=o.nextElementSibling}return null}}return b.\u0275fac=function(i){return new(i||b)},b.\u0275prov=_.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();var G=a(452);let X=(()=>{class b{constructor(i,c,o){this.httpClient=i,this.htmlParser=c,this.settings=o}get proxy(){return T._[this.settings.proxy.name]}scrape(i,c,o,g){return this.getResponse(i).pipe((0,h.U)(C=>this.htmlParser.parse(C,c,o,g)))}getResponse(i){var c,o;if(!this.settings.proxy.enabled)return this.getRawHTML(i);const g="json"===(null===(c=this.proxy.options)||void 0===c?void 0:c.responseType)?this.getJSON(i):this.getRawHTML(i);return(null===(o=this.proxy.options)||void 0===o?void 0:o.responseParser)?g.pipe((0,h.U)(this.proxy.options.responseParser)):g}getRawHTML(i,c){return this.get(this.resolveUrl(i),{responseType:"text",headers:this.getRequestHeaders(),timeout:c})}getJSON(i,c){return this.get(this.resolveUrl(i),{responseType:"json",headers:this.getRequestHeaders(),timeout:c})}get(i,c){const{timeout:o=3e4}=c,g=(0,A._T)(c,["timeout"]);return this.httpClient.get(i,g).pipe(function f(b,V){const{first:i,each:c,with:o=n,scheduler:g=(null!=V?V:l.z),meta:C=null}=(0,j.q)(b)?{first:b}:"number"==typeof b?{each:b}:b;if(null==i&&null==c)throw new TypeError("No timeout provided.");return(0,p.e)((k,M)=>{let R,O,y=null,x=0;const L=D=>{O=(0,S.f)(M,g,()=>{try{R.unsubscribe(),(0,U.Xf)(o({meta:C,lastValue:y,seen:x})).subscribe(M)}catch(I){M.error(I)}},D)};R=k.subscribe((0,d.x)(M,D=>{null==O||O.unsubscribe(),x++,M.next(y=D),c>0&&L(c)},void 0,void 0,()=>{(null==O?void 0:O.closed)||null==O||O.unsubscribe(),y=null})),L(null!=i?"number"==typeof i?i:+i-g.now():c)})}(o),(0,v.K)(C=>{const k=this.resolveError(C,i);return console.error(k),(0,w.of)("json"===g.responseType?{}:"")}))}resolveError(i,c){return"Timeout has occurred"===i.message?`${i.message} for ${c}`:i.message}resolveUrl(i){return this.settings.proxy.enabled?`${this.proxy.url}${i}`:i}getRequestHeaders(){const i=this.settings.proxy.enabled?this.proxy.headers:null;return i?Object.keys(i).reduce((c,o)=>Object.assign(Object.assign({},c),{[o]:this.resolveHeaderValue(i[o])}),{}):{}}resolveHeaderValue(i){switch(i){case"$hostname":return window.location.hostname;case"$apiKey":return this.settings.proxy.apiKey;default:return i}}}return b.\u0275fac=function(i){return new(i||b)(_.LFG(B.eN),_.LFG(K),_.LFG(G.g))},b.\u0275prov=_.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},4128:(z,$,a)=>{a.d($,{D:()=>d});var A=a(8306),w=a(4742),l=a(8421),j=a(3269),p=a(5403),U=a(3268),E=a(1810);function d(...S){const P=(0,j.jO)(S),{args:f,keys:n}=(0,w.D)(S),h=new A.y(v=>{const{length:T}=f;if(!T)return void v.complete();const _=new Array(T);let B=T,H=T;for(let F=0;F<T;F++){let K=!1;(0,l.Xf)(f[F]).subscribe((0,p.x)(v,G=>{K||(K=!0,H--),_[F]=G},()=>B--,void 0,()=>{(!B||!K)&&(H||v.next(n?(0,E.n)(n,_):_),v.complete())}))}});return P?h.pipe((0,U.Z)(P)):h}},2805:(z,$,a)=>{a.d($,{H:()=>p});var A=a(8306),w=a(1566),l=a(3532),j=a(1165);function p(U=0,E,d=w.P){let S=-1;return null!=E&&((0,l.K)(E)?d=E:S=E),new A.y(P=>{let f=(0,j.q)(U)?+U-d.now():U;f<0&&(f=0);let n=0;return d.schedule(function(){P.closed||(P.next(n++),0<=S?this.schedule(void 0,S):P.complete())},f)})}},1566:(z,$,a)=>{a.d($,{P:()=>P,z:()=>S});var A=a(727);class w extends A.w0{constructor(n,h){super()}schedule(n,h=0){return this}}const l={setInterval(...f){const{delegate:n}=l;return((null==n?void 0:n.setInterval)||setInterval)(...f)},clearInterval(f){const{delegate:n}=l;return((null==n?void 0:n.clearInterval)||clearInterval)(f)},delegate:void 0};var j=a(8737);const U={now:()=>(U.delegate||Date).now(),delegate:void 0};class E{constructor(n,h=E.now){this.schedulerActionCtor=n,this.now=h}schedule(n,h=0,v){return new this.schedulerActionCtor(this,n).schedule(v,h)}}E.now=U.now;const S=new class d extends E{constructor(n,h=E.now){super(n,h),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:h}=this;if(this._active)return void h.push(n);let v;this._active=!0;do{if(v=n.execute(n.state,n.delay))break}while(n=h.shift());if(this._active=!1,v){for(;n=h.shift();)n.unsubscribe();throw v}}}(class p extends w{constructor(n,h){super(n,h),this.scheduler=n,this.work=h,this.pending=!1}schedule(n,h=0){if(this.closed)return this;this.state=n;const v=this.id,T=this.scheduler;return null!=v&&(this.id=this.recycleAsyncId(T,v,h)),this.pending=!0,this.delay=h,this.id=this.id||this.requestAsyncId(T,this.id,h),this}requestAsyncId(n,h,v=0){return l.setInterval(n.flush.bind(n,this),v)}recycleAsyncId(n,h,v=0){if(null!=v&&this.delay===v&&!1===this.pending)return h;l.clearInterval(h)}execute(n,h){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const v=this._execute(n,h);if(v)return v;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,h){let T,v=!1;try{this.work(n)}catch(_){v=!0,T=_||new Error("Scheduled action threw falsy error")}if(v)return this.unsubscribe(),T}unsubscribe(){if(!this.closed){const{id:n,scheduler:h}=this,{actions:v}=h;this.work=this.state=this.scheduler=null,this.pending=!1,(0,j.P)(v,this),null!=n&&(this.id=this.recycleAsyncId(h,n,null)),this.delay=null,super.unsubscribe()}}}),P=S},1165:(z,$,a)=>{function A(w){return w instanceof Date&&!isNaN(w)}a.d($,{q:()=>A})}}]);